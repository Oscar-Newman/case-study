/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/employees/search/route";
exports.ids = ["app/api/employees/search/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("pg");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Femployees%2Fsearch%2Froute&page=%2Fapi%2Femployees%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployees%2Fsearch%2Froute.ts&appDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Femployees%2Fsearch%2Froute&page=%2Fapi%2Femployees%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployees%2Fsearch%2Froute.ts&appDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_sunilsamra_java_applications_case_study_src_app_api_employees_search_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/employees/search/route.ts */ \"(rsc)/./src/app/api/employees/search/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/employees/search/route\",\n        pathname: \"/api/employees/search\",\n        filename: \"route\",\n        bundlePath: \"app/api/employees/search/route\"\n    },\n    resolvedPagePath: \"/Users/sunilsamra/java-applications/case-study/src/app/api/employees/search/route.ts\",\n    nextConfigOutput,\n    userland: _Users_sunilsamra_java_applications_case_study_src_app_api_employees_search_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZlbXBsb3llZXMlMkZzZWFyY2glMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmVtcGxveWVlcyUyRnNlYXJjaCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmVtcGxveWVlcyUyRnNlYXJjaCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnN1bmlsc2FtcmElMkZqYXZhLWFwcGxpY2F0aW9ucyUyRmNhc2Utc3R1ZHklMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGc3VuaWxzYW1yYSUyRmphdmEtYXBwbGljYXRpb25zJTJGY2FzZS1zdHVkeSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDb0M7QUFDakg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLz81ZGQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc3VuaWxzYW1yYS9qYXZhLWFwcGxpY2F0aW9ucy9jYXNlLXN0dWR5L3NyYy9hcHAvYXBpL2VtcGxveWVlcy9zZWFyY2gvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2VtcGxveWVlcy9zZWFyY2gvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9lbXBsb3llZXMvc2VhcmNoXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9lbXBsb3llZXMvc2VhcmNoL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3N1bmlsc2FtcmEvamF2YS1hcHBsaWNhdGlvbnMvY2FzZS1zdHVkeS9zcmMvYXBwL2FwaS9lbXBsb3llZXMvc2VhcmNoL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Femployees%2Fsearch%2Froute&page=%2Fapi%2Femployees%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployees%2Fsearch%2Froute.ts&appDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("// Use the .env file to retrieve values for pool\n\n(__webpack_require__(/*! dotenv */ \"(rsc)/./node_modules/dotenv/lib/main.js\").config)();\n// Use the pg library to import Pool object\nconst { Pool } = __webpack_require__(/*! pg */ \"pg\");\n// Create pool with fields from .env file\nconst pool = new Pool({\n    user: process.env.DB_USER,\n    host: process.env.DB_HOST,\n    database: process.env.DB_DATABASE,\n    password: process.env.DB_PASSWORD,\n    port: process.env.DB_PORT\n});\n// export pool to be used elsewhere in project dir\nmodule.exports = pool;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0RBQWdEOztBQUNoREEscUZBQXdCO0FBRXhCLDJDQUEyQztBQUMzQyxNQUFNLEVBQUNFLElBQUksRUFBQyxHQUFHRixtQkFBT0EsQ0FBQyxjQUFJO0FBRTNCLHlDQUF5QztBQUN6QyxNQUFNRyxPQUFPLElBQUlELEtBQUs7SUFDbEJFLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsT0FBTztJQUN6QkMsTUFBTUgsUUFBUUMsR0FBRyxDQUFDRyxPQUFPO0lBQ3pCQyxVQUFVTCxRQUFRQyxHQUFHLENBQUNLLFdBQVc7SUFDakNDLFVBQVVQLFFBQVFDLEdBQUcsQ0FBQ08sV0FBVztJQUNqQ0MsTUFBTVQsUUFBUUMsR0FBRyxDQUFDUyxPQUFPO0FBQzdCO0FBRUEsa0RBQWtEO0FBQ2xEQyxPQUFPQyxPQUFPLEdBQUdkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RiLmpzPzNkYzkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVXNlIHRoZSAuZW52IGZpbGUgdG8gcmV0cmlldmUgdmFsdWVzIGZvciBwb29sXG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcblxuLy8gVXNlIHRoZSBwZyBsaWJyYXJ5IHRvIGltcG9ydCBQb29sIG9iamVjdFxuY29uc3Qge1Bvb2x9ID0gcmVxdWlyZSgncGcnKTtcblxuLy8gQ3JlYXRlIHBvb2wgd2l0aCBmaWVsZHMgZnJvbSAuZW52IGZpbGVcbmNvbnN0IHBvb2wgPSBuZXcgUG9vbCh7XG4gICAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUixcbiAgICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NULFxuICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9EQVRBQkFTRSxcbiAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gICAgcG9ydDogcHJvY2Vzcy5lbnYuREJfUE9SVCxcbn0pO1xuXG4vLyBleHBvcnQgcG9vbCB0byBiZSB1c2VkIGVsc2V3aGVyZSBpbiBwcm9qZWN0IGRpclxubW9kdWxlLmV4cG9ydHMgPSBwb29sOyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiUG9vbCIsInBvb2wiLCJ1c2VyIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVIiLCJob3N0IiwiREJfSE9TVCIsImRhdGFiYXNlIiwiREJfREFUQUJBU0UiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwicG9ydCIsIkRCX1BPUlQiLCJtb2R1bGUiLCJleHBvcnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ }),

/***/ "(rsc)/./lib/dbRoutes.js":
/*!*************************!*\
  !*** ./lib/dbRoutes.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addCompensationToDatabase: () => (/* binding */ addCompensationToDatabase),\n/* harmony export */   addEmployeeToDatabase: () => (/* binding */ addEmployeeToDatabase),\n/* harmony export */   calculateCompensationForSingleMonth: () => (/* binding */ calculateCompensationForSingleMonth),\n/* harmony export */   calculateTotalCompensationPerMonth: () => (/* binding */ calculateTotalCompensationPerMonth),\n/* harmony export */   deleteCompensationById: () => (/* binding */ deleteCompensationById),\n/* harmony export */   deleteEmployeeById: () => (/* binding */ deleteEmployeeById),\n/* harmony export */   getAllCompensations: () => (/* binding */ getAllCompensations),\n/* harmony export */   getAllEmployees: () => (/* binding */ getAllEmployees),\n/* harmony export */   getCompensationById: () => (/* binding */ getCompensationById),\n/* harmony export */   getCompensationsByEmployeeIdAndDate: () => (/* binding */ getCompensationsByEmployeeIdAndDate),\n/* harmony export */   getEmployeeById: () => (/* binding */ getEmployeeById),\n/* harmony export */   searchForCompensations: () => (/* binding */ searchForCompensations),\n/* harmony export */   searchForEmployee: () => (/* binding */ searchForEmployee),\n/* harmony export */   updateCompensationById: () => (/* binding */ updateCompensationById),\n/* harmony export */   updateEmployeeById: () => (/* binding */ updateEmployeeById)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n// imports PostgreSQL database pool to query the local database\nconst pool = __webpack_require__(/*! ./db.js */ \"(rsc)/./lib/db.js\");\n// Uses Employee ID in URL to retrieve all database fields for Employee object\nasync function getEmployeeById(id) {\n    try {\n        // Converts ID given as parameter and adds it to list to be used in parameterised query\n        const value = [\n            id\n        ];\n        // Creation of Query where $1 represents parameterised parameter\n        const query = `SELECT * FROM employee WHERE emp_id = $1;`;\n        const results = await pool.query(query, value);\n        // Checks if any results were returned from the database\n        if (results.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Employee not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Returns the data as JSON and status code\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows[0], {\n            status: 200\n        });\n    } catch (err) {\n        // Returns error JSON body and status code\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n;\n// Uses Employee ID in URL to delete database record for that Employee object\nasync function deleteEmployeeById(id) {\n    try {\n        const value = [\n            id\n        ];\n        const searchQuery = `SELECT * FROM employee WHERE emp_id = $1;`;\n        const searchResult = await pool.query(searchQuery, value);\n        if (searchResult.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Employee not found\"\n            }, {\n                status: 404\n            });\n        } else {\n            const deleteQuery = `DELETE FROM employee WHERE emp_id = $1;`;\n            const results = await pool.query(deleteQuery, value);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n                status: 200\n            });\n        }\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n;\n// Uses Employee ID and the data from the UI form to update all database fields for Employee object\nasync function updateEmployeeById(firstName, middleName, lastName, birthDate, position, id) {\n    try {\n        const values = [\n            firstName,\n            middleName,\n            lastName,\n            birthDate,\n            position,\n            parseInt(id)\n        ];\n        const query = `\n            UPDATE employee\n            SET firstname = $1, middlename = $2, lastname = $3, date = $4, position = $5 \n            WHERE emp_id = $6;`;\n        const results = await pool.query(query, values);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses the data from the UI form to post new data to the database and create new Employee object\nasync function addEmployeeToDatabase(firstName, middleName, lastName, birthDate, position) {\n    try {\n        if (!middleName || typeof middleName !== 'string') {\n            const values = [\n                firstName,\n                lastName,\n                birthDate,\n                position\n            ];\n            const query = `\n                INSERT INTO employee (firstname, middlename, lastname, date, position) \n                VALUES ($1, NULL, $2, $3, $4) RETURNING emp_id;`;\n            const results = await pool.query(query, values);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results, {\n                status: 200\n            });\n        } else {\n            const values = [\n                firstName,\n                middleName,\n                lastName,\n                birthDate,\n                position\n            ];\n            const query = `\n                INSERT INTO employee (firstname, middlename, lastname, date, position) \n                VALUES ($1, $2, $3, $4, $5) RETURNING emp_id;`;\n            const results = await pool.query(query, values);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results, {\n                status: 200\n            });\n        }\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses SQL to retrieve data for all Employee objects in the database\nasync function getAllEmployees() {\n    try {\n        const results = await pool.query(`SELECT * FROM employee;`);\n        if (results.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No employees found\"\n            }), {\n                status: 404\n            };\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses search params inputted into API URL from UI to find an employee object based on a combination of first name, last name and position\nasync function searchForEmployee(firstName, lastName, position) {\n    const values = [];\n    let query = \"SELECT * FROM employee WHERE 1=1\";\n    let index = 1;\n    try {\n        if (firstName) {\n            query += ` AND firstname = $${index}`;\n            values.push(firstName);\n            index++;\n        }\n        if (lastName) {\n            query += ` AND lastname = $${index}`;\n            values.push(lastName);\n            index++;\n        }\n        if (position) {\n            query += ` AND position = $${index}`;\n            values.push(position);\n            index++;\n        }\n        const results = await pool.query(query, values);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses SQL to retrieve data for all Compensation objects in the database\nasync function getAllCompensations() {\n    try {\n        const results = await pool.query(`SELECT * FROM compensation;`);\n        if (results.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No compensations found\"\n            }), {\n                status: 404\n            };\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses the data from the UI form to post new data to the database and create new Compensation object\nasync function addCompensationToDatabase(compType, amount, description, date, employeeId) {\n    try {\n        const values = [\n            compType,\n            parseFloat(amount),\n            description,\n            date,\n            parseInt(employeeId)\n        ];\n        const query = `\n            INSERT INTO compensation (type, amount, description, date, fk_employee) \n            VALUES ($1, $2, $3, $4, $5);`;\n        const results = await pool.query(query, values);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses Compensation ID in URL to retrieve all database fields for Compensation object\nasync function getCompensationById(id) {\n    try {\n        const value = [\n            id\n        ];\n        const query = `SELECT * FROM compensation WHERE comp_id = $1;`;\n        const results = await pool.query(query, value);\n        if (results.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Compensation not found\"\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows[0], {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses Employee ID in URL to delete database record for that Employee object\nasync function deleteCompensationById(id) {\n    try {\n        const value = [\n            id\n        ];\n        const searchQuery = `SELECT * FROM compensation WHERE comp_id = $1;`;\n        const searchResult = await pool.query(searchQuery, value);\n        if (searchResult.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Compensation not found\"\n            }, {\n                status: 404\n            });\n        } else {\n            const deleteQuery = `DELETE FROM compensation WHERE comp_id = $1;`;\n            const results = await pool.query(deleteQuery, value);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n                status: 200\n            });\n        }\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses Compensation ID and the data from the UI form to update all database fields for Compensation object\nasync function updateCompensationById(amount, description, id) {\n    try {\n        const values = [\n            amount,\n            description,\n            parseInt(id)\n        ];\n        const query = `\n            UPDATE compensation\n            SET amount = $1, description = $2 \n            WHERE comp_id = $3;`;\n        const results = await pool.query(query, values);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses the searchForCompensations API endpoint and calculates compensation for each month/year individually and returns JS Map\nfunction calculateTotalCompensationPerMonth(compensations) {\n    let compensationPerYearMonth = new Map();\n    for(let i = 0; i < Object.keys(compensations).length; i++){\n        const stringDate = JSON.stringify(compensations[i].date);\n        //String processing to achieve YYYY-mm notation\n        const amount = compensations[i].amount;\n        const dateArray = stringDate.split(\"-\");\n        const year = dateArray[0].replace('\"', '');\n        const month = dateArray[1];\n        const yearMonth = year + \"-\" + month;\n        console.log(yearMonth);\n        if (compensationPerYearMonth.has(yearMonth)) {\n            let currentCompensation = compensationPerYearMonth.get(yearMonth);\n            console.log(currentCompensation, amount);\n            //Sum Calculation\n            console.log(parseFloat(parseFloat(currentCompensation).toFixed(2)));\n            console.log(parseFloat(parseFloat(amount).toFixed(2)));\n            let sum = (parseFloat(currentCompensation) + parseFloat(amount)).toFixed(2);\n            console.log(`sum ${sum}`);\n            compensationPerYearMonth.set(yearMonth, sum);\n        } else {\n            compensationPerYearMonth.set(yearMonth, parseFloat(amount).toFixed(2));\n        }\n    }\n    return compensationPerYearMonth;\n}\n// Uses SQL to find Compensation objects which are within a date range using the BETWEEN sql operator for a certain employee\n// Values are passed using search params into endpoint\nasync function searchForCompensations(startDate, endDate, employeeId) {\n    try {\n        //Query the database to see compensations during this time frame\n        const values = [\n            parseInt(employeeId),\n            startDate,\n            endDate\n        ];\n        const query = `SELECT date, amount, comp_id FROM compensation \n                       WHERE fk_employee = $1 \n                       AND date BETWEEN $2 AND $3`;\n        const results = await pool.query(query, values);\n        //Summate the costs of each of these compensations per month to see total compensation each month\n        const compensationPerYearMonth = calculateTotalCompensationPerMonth(results.rows);\n        console.log(compensationPerYearMonth.entries());\n        console.log(JSON.stringify(Object.fromEntries(compensationPerYearMonth)));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(Object.fromEntries(compensationPerYearMonth), {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Used by getCompensationsByEmployeeIdAndDate to extend API endpoint to return the total compensation for A SINGLE MONTH\n// which the date is present within e.g., 09 aka September\nfunction calculateCompensationForSingleMonth(compensations) {\n    let sumCompensation = 0;\n    console.log(Object.keys(compensations).length);\n    for(let i = 0; i < Object.keys(compensations).length; i++){\n        const amount = parseFloat(compensations[i].amount);\n        sumCompensation += amount;\n    }\n    return sumCompensation.toFixed(2);\n}\n// Get all Compensation object data from the database for ONE compensation only\n// Uses compensations/breakdown API where employeeId and date are passed as inputs into URL\nasync function getCompensationsByEmployeeIdAndDate(employeeId, date) {\n    try {\n        console.log(employeeId, date);\n        const dateSeparated = date.split('-');\n        const year = dateSeparated[0];\n        const month = dateSeparated[1];\n        console.log(year, month);\n        const values = [\n            year,\n            month,\n            parseInt(employeeId)\n        ];\n        const query = `SELECT * FROM compensation \n                    WHERE EXTRACT(YEAR FROM date) = $1 AND \n                    EXTRACT(MONTH FROM date) = $2 AND\n                    fk_employee = $3;`;\n        const results = await pool.query(query, values);\n        const monthCompensation = calculateCompensationForSingleMonth(results.rows);\n        results.rows.push({\n            monthCompensation: monthCompensation\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGJSb3V0ZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyQztBQUUzQywrREFBK0Q7QUFDL0QsTUFBTUMsT0FBT0MsbUJBQU9BLENBQUMsa0NBQVM7QUFFOUIsOEVBQThFO0FBQ3ZFLGVBQWVDLGdCQUFpQkMsRUFBRTtJQUVyQyxJQUNBO1FBQ0ksdUZBQXVGO1FBQ3ZGLE1BQU1DLFFBQVE7WUFBQ0Q7U0FBRztRQUNsQixnRUFBZ0U7UUFDaEUsTUFBTUUsUUFBUSxDQUFDLHlDQUF5QyxDQUFDO1FBQ3pELE1BQU1DLFVBQVUsTUFBTU4sS0FBS0ssS0FBSyxDQUFDQSxPQUFPRDtRQUV4Qyx3REFBd0Q7UUFDeEQsSUFBSUUsUUFBUUMsSUFBSSxDQUFDQyxNQUFNLElBQUksR0FBRztZQUMxQixPQUFPVCxxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO2dCQUFDQyxPQUFRO1lBQW9CLEdBQUc7Z0JBQUNDLFFBQVE7WUFBRztRQUN6RTtRQUNBLDJDQUEyQztRQUMzQyxPQUFPWixxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDSCxRQUFRQyxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQUNJLFFBQVE7UUFBRztJQUMxRCxFQUNBLE9BQU9DLEtBQ1A7UUFDSSwwQ0FBMEM7UUFDMUMsT0FBT2IscURBQVlBLENBQUNVLElBQUksQ0FBQztZQUFDQyxPQUFPO1FBQXVCLEdBQUc7WUFBQ0MsUUFBUTtRQUFHO0lBQzNFO0FBQ0o7O0FBRUEsNkVBQTZFO0FBQ3RFLGVBQWVFLG1CQUFvQlYsRUFBRTtJQUV4QyxJQUNBO1FBQ0ksTUFBTUMsUUFBUTtZQUFDRDtTQUFHO1FBQ2xCLE1BQU1XLGNBQWMsQ0FBQyx5Q0FBeUMsQ0FBQztRQUMvRCxNQUFNQyxlQUFlLE1BQU1mLEtBQUtLLEtBQUssQ0FBQ1MsYUFBYVY7UUFDbkQsSUFBSVcsYUFBYVIsSUFBSSxDQUFDQyxNQUFNLElBQUksR0FBRztZQUMvQixPQUFPVCxxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO2dCQUFDQyxPQUFRO1lBQW9CLEdBQUc7Z0JBQUNDLFFBQVE7WUFBRztRQUN6RSxPQUVBO1lBQ0csTUFBTUssY0FBYyxDQUFDLHVDQUF1QyxDQUFDO1lBQzdELE1BQU1WLFVBQVUsTUFBTU4sS0FBS0ssS0FBSyxDQUFDVyxhQUFhWjtZQUM5QyxPQUFPTCxxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDSCxRQUFRQyxJQUFJLEVBQUU7Z0JBQUNJLFFBQVE7WUFBRztRQUN0RDtJQUNKLEVBQ0EsT0FBT0MsS0FDUDtRQUNJLE9BQU9iLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFBQ0MsT0FBTztRQUF1QixHQUFHO1lBQUNDLFFBQVE7UUFBRztJQUMzRTtBQUNKOztBQUVBLG1HQUFtRztBQUM1RixlQUFlTSxtQkFBb0JDLFNBQVMsRUFBRUMsVUFBVSxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBRUMsUUFBUSxFQUFFbkIsRUFBRTtJQUU5RixJQUNBO1FBQ0ksTUFBTW9CLFNBQVM7WUFBQ0w7WUFBV0M7WUFBWUM7WUFBVUM7WUFBV0M7WUFBVUUsU0FBU3JCO1NBQUk7UUFDbkYsTUFBTUUsUUFBUSxDQUFDOzs7OEJBR08sQ0FBQztRQUV2QixNQUFNQyxVQUFVLE1BQU1OLEtBQUtLLEtBQUssQ0FBQ0EsT0FBT2tCO1FBQ3hDLE9BQU94QixxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDSCxTQUFTO1lBQUNLLFFBQVE7UUFBRztJQUNsRCxFQUNBLE9BQU9DLEtBQ1A7UUFDSSxPQUFPYixxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO1lBQUNDLE9BQU87UUFBdUIsR0FBRztZQUFDQyxRQUFRO1FBQUc7SUFDM0U7QUFDSjtBQUVBLGlHQUFpRztBQUMxRixlQUFlYyxzQkFBdUJQLFNBQVMsRUFBRUMsVUFBVSxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBRUMsUUFBUTtJQUU3RixJQUNBO1FBQ0ksSUFBSSxDQUFDSCxjQUFjLE9BQU9BLGVBQWUsVUFDekM7WUFDSSxNQUFNSSxTQUFTO2dCQUFDTDtnQkFBV0U7Z0JBQVVDO2dCQUFXQzthQUFTO1lBQ3pELE1BQU1qQixRQUFRLENBQUM7OytEQUVvQyxDQUFDO1lBRXBELE1BQU1DLFVBQVUsTUFBTU4sS0FBS0ssS0FBSyxDQUFDQSxPQUFPa0I7WUFDeEMsT0FBT3hCLHFEQUFZQSxDQUFDVSxJQUFJLENBQUNILFNBQVM7Z0JBQUNLLFFBQVE7WUFBRztRQUNsRCxPQUVBO1lBQ0ksTUFBTVksU0FBUztnQkFBQ0w7Z0JBQVdDO2dCQUFZQztnQkFBVUM7Z0JBQVdDO2FBQVM7WUFDckUsTUFBTWpCLFFBQVEsQ0FBQzs7NkRBRWtDLENBQUM7WUFFbEQsTUFBTUMsVUFBVSxNQUFNTixLQUFLSyxLQUFLLENBQUNBLE9BQU9rQjtZQUN4QyxPQUFPeEIscURBQVlBLENBQUNVLElBQUksQ0FBQ0gsU0FBUztnQkFBQ0ssUUFBUTtZQUFHO1FBQ2xEO0lBSUosRUFDQSxPQUFPQyxLQUNQO1FBQ0ksT0FBT2IscURBQVlBLENBQUNVLElBQUksQ0FBQztZQUFDQyxPQUFPO1FBQXVCLEdBQUc7WUFBQ0MsUUFBUTtRQUFHO0lBQzNFO0FBQ0o7QUFFQSxxRUFBcUU7QUFDOUQsZUFBZWU7SUFFbEIsSUFDQTtRQUNJLE1BQU1wQixVQUFVLE1BQU1OLEtBQUtLLEtBQUssQ0FBQyxDQUFDLHVCQUF1QixDQUFDO1FBQzFELElBQUlDLFFBQVFDLElBQUksQ0FBQ0MsTUFBTSxJQUFJLEdBQUc7WUFDMUIsT0FBT1QscURBQVlBLENBQUNVLElBQUksQ0FBQztnQkFBQ0MsT0FBUTtZQUFvQixJQUFJO2dCQUFDQyxRQUFRO1lBQUc7UUFDMUU7UUFDQSxPQUFPWixxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDSCxRQUFRQyxJQUFJLEVBQUU7WUFBQ0ksUUFBUTtRQUFHO0lBQ3ZELEVBQ0EsT0FBT0MsS0FDUDtRQUNJLE9BQU9iLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFBQ0MsT0FBTztRQUF1QixHQUFHO1lBQUNDLFFBQVE7UUFBRztJQUMzRTtBQUNKO0FBRUEsMklBQTJJO0FBQ3BJLGVBQWVnQixrQkFBbUJULFNBQVMsRUFBRUUsUUFBUSxFQUFFRSxRQUFRO0lBRWxFLE1BQU1DLFNBQVMsRUFBRTtJQUNqQixJQUFJbEIsUUFBUTtJQUNaLElBQUl1QixRQUFRO0lBQ1osSUFDQTtRQUNJLElBQUlWLFdBQ0o7WUFDSWIsU0FBUyxDQUFDLGtCQUFrQixFQUFFdUIsT0FBTztZQUNyQ0wsT0FBT00sSUFBSSxDQUFDWDtZQUNaVTtRQUNKO1FBQ0EsSUFBSVIsVUFDQTtZQUNJZixTQUFTLENBQUMsaUJBQWlCLEVBQUV1QixPQUFPO1lBQ3BDTCxPQUFPTSxJQUFJLENBQUNUO1lBQ1pRO1FBQ0o7UUFDSixJQUFJTixVQUNBO1lBQ0lqQixTQUFTLENBQUMsaUJBQWlCLEVBQUV1QixPQUFPO1lBQ3BDTCxPQUFPTSxJQUFJLENBQUNQO1lBQ1pNO1FBQ0o7UUFDSixNQUFNdEIsVUFBVSxNQUFNTixLQUFLSyxLQUFLLENBQUNBLE9BQU9rQjtRQUN4QyxPQUFPeEIscURBQVlBLENBQUNVLElBQUksQ0FBQ0gsUUFBUUMsSUFBSSxFQUFFO1lBQUNJLFFBQVE7UUFBRztJQUN2RCxFQUNBLE9BQU9DLEtBQ1A7UUFDSSxPQUFPYixxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO1lBQUNDLE9BQU87UUFBdUIsR0FBRztZQUFDQyxRQUFRO1FBQUc7SUFDM0U7QUFDSjtBQUVBLHlFQUF5RTtBQUNsRSxlQUFlbUI7SUFFbEIsSUFDQTtRQUNJLE1BQU14QixVQUFVLE1BQU1OLEtBQUtLLEtBQUssQ0FBQyxDQUFDLDJCQUEyQixDQUFDO1FBQzlELElBQUlDLFFBQVFDLElBQUksQ0FBQ0MsTUFBTSxJQUFJLEdBQUc7WUFDMUIsT0FBT1QscURBQVlBLENBQUNVLElBQUksQ0FBQztnQkFBQ0MsT0FBUTtZQUF3QixJQUFJO2dCQUFDQyxRQUFRO1lBQUc7UUFDOUU7UUFDQSxPQUFPWixxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDSCxRQUFRQyxJQUFJLEVBQUU7WUFBQ0ksUUFBUTtRQUFHO0lBQ3ZELEVBQ0EsT0FBT0MsS0FDUDtRQUNJLE9BQU9iLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFBQ0MsT0FBTztRQUF1QixHQUFHO1lBQUNDLFFBQVE7UUFBRztJQUMzRTtBQUNKO0FBRUEscUdBQXFHO0FBQzlGLGVBQWVvQiwwQkFBMkJDLFFBQVEsRUFBRUMsTUFBTSxFQUFFQyxXQUFXLEVBQUVDLElBQUksRUFBRUMsVUFBVTtJQUU1RixJQUNBO1FBQ0ksTUFBTWIsU0FBUztZQUFDUztZQUFVSyxXQUFXSjtZQUFTQztZQUFhQztZQUFNWCxTQUFTWTtTQUFZO1FBQ3RGLE1BQU0vQixRQUFRLENBQUM7O3dDQUVpQixDQUFDO1FBRWpDLE1BQU1DLFVBQVUsTUFBTU4sS0FBS0ssS0FBSyxDQUFDQSxPQUFPa0I7UUFDeEMsT0FBT3hCLHFEQUFZQSxDQUFDVSxJQUFJLENBQUNILFNBQVM7WUFBQ0ssUUFBUTtRQUFHO0lBQ2xELEVBQ0EsT0FBT0MsS0FDUDtRQUNJLE9BQU9iLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFBQ0MsT0FBTztRQUF1QixHQUFHO1lBQUNDLFFBQVE7UUFBRztJQUMzRTtBQUNKO0FBRUEsc0ZBQXNGO0FBQy9FLGVBQWUyQixvQkFBcUJuQyxFQUFFO0lBRXpDLElBQ0E7UUFDSSxNQUFNQyxRQUFRO1lBQUNEO1NBQUc7UUFDbEIsTUFBTUUsUUFBUSxDQUFDLDhDQUE4QyxDQUFDO1FBQzlELE1BQU1DLFVBQVUsTUFBTU4sS0FBS0ssS0FBSyxDQUFDQSxPQUFPRDtRQUN4QyxJQUFJRSxRQUFRQyxJQUFJLENBQUNDLE1BQU0sSUFBSSxHQUFHO1lBQzFCLE9BQU9ULHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7Z0JBQUNDLE9BQVE7WUFBd0IsR0FBRztnQkFBQ0MsUUFBUTtZQUFHO1FBQzdFO1FBQ0EsT0FBT1oscURBQVlBLENBQUNVLElBQUksQ0FBQ0gsUUFBUUMsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUFDSSxRQUFRO1FBQUc7SUFDMUQsRUFDQSxPQUFPQyxLQUNQO1FBQ0ksT0FBT2IscURBQVlBLENBQUNVLElBQUksQ0FBQztZQUFDQyxPQUFPO1FBQXVCLEdBQUc7WUFBQ0MsUUFBUTtRQUFHO0lBQzNFO0FBQ0o7QUFFQSw2RUFBNkU7QUFDdEUsZUFBZTRCLHVCQUF3QnBDLEVBQUU7SUFFNUMsSUFDQTtRQUNJLE1BQU1DLFFBQVE7WUFBQ0Q7U0FBRztRQUNsQixNQUFNVyxjQUFjLENBQUMsOENBQThDLENBQUM7UUFDcEUsTUFBTUMsZUFBZSxNQUFNZixLQUFLSyxLQUFLLENBQUNTLGFBQWFWO1FBQ25ELElBQUlXLGFBQWFSLElBQUksQ0FBQ0MsTUFBTSxJQUFJLEdBQUc7WUFDL0IsT0FBT1QscURBQVlBLENBQUNVLElBQUksQ0FBQztnQkFBQ0MsT0FBUTtZQUF3QixHQUFHO2dCQUFDQyxRQUFRO1lBQUc7UUFDN0UsT0FFQTtZQUNHLE1BQU1LLGNBQWMsQ0FBQyw0Q0FBNEMsQ0FBQztZQUNsRSxNQUFNVixVQUFVLE1BQU1OLEtBQUtLLEtBQUssQ0FBQ1csYUFBYVo7WUFDOUMsT0FBT0wscURBQVlBLENBQUNVLElBQUksQ0FBQ0gsUUFBUUMsSUFBSSxFQUFFO2dCQUFDSSxRQUFRO1lBQUc7UUFDdEQ7SUFDSixFQUNBLE9BQU9DLEtBQ1A7UUFDSSxPQUFPYixxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO1lBQUNDLE9BQU87UUFBdUIsR0FBRztZQUFDQyxRQUFRO1FBQUc7SUFDM0U7QUFDSjtBQUVBLDJHQUEyRztBQUNwRyxlQUFlNkIsdUJBQXdCUCxNQUFNLEVBQUVDLFdBQVcsRUFBRS9CLEVBQUU7SUFFakUsSUFDQTtRQUNJLE1BQU1vQixTQUFTO1lBQUNVO1lBQVFDO1lBQWFWLFNBQVNyQjtTQUFJO1FBQ2xELE1BQU1FLFFBQVEsQ0FBQzs7OytCQUdRLENBQUM7UUFFeEIsTUFBTUMsVUFBVSxNQUFNTixLQUFLSyxLQUFLLENBQUNBLE9BQU9rQjtRQUN4QyxPQUFPeEIscURBQVlBLENBQUNVLElBQUksQ0FBQ0gsU0FBUztZQUFDSyxRQUFRO1FBQUc7SUFDbEQsRUFDQSxPQUFPQyxLQUFLO1FBQ1IsT0FBT2IscURBQVlBLENBQUNVLElBQUksQ0FBQztZQUFDQyxPQUFPO1FBQXVCLEdBQUc7WUFBQ0MsUUFBUTtRQUFHO0lBQzNFO0FBQ0o7QUFFQSwrSEFBK0g7QUFDeEgsU0FBUzhCLG1DQUFtQ0MsYUFBYTtJQUU1RCxJQUFJQywyQkFBMkIsSUFBSUM7SUFDbkMsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlDLE9BQU9DLElBQUksQ0FBQ0wsZUFBZWxDLE1BQU0sRUFBRXFDLElBQ3ZEO1FBQ0ksTUFBTUcsYUFBYUMsS0FBS0MsU0FBUyxDQUFDUixhQUFhLENBQUNHLEVBQUUsQ0FBQ1YsSUFBSTtRQUN2RCwrQ0FBK0M7UUFDL0MsTUFBTUYsU0FBU1MsYUFBYSxDQUFDRyxFQUFFLENBQUNaLE1BQU07UUFDdEMsTUFBTWtCLFlBQVlILFdBQVdJLEtBQUssQ0FBQztRQUNuQyxNQUFNQyxPQUFPRixTQUFTLENBQUMsRUFBRSxDQUFDRyxPQUFPLENBQUMsS0FBSztRQUN2QyxNQUFNQyxRQUFRSixTQUFTLENBQUMsRUFBRTtRQUMxQixNQUFNSyxZQUFZSCxPQUFPLE1BQU1FO1FBRS9CRSxRQUFRQyxHQUFHLENBQUNGO1FBRVosSUFBSWIseUJBQXlCZ0IsR0FBRyxDQUFDSCxZQUNqQztZQUNJLElBQUlJLHNCQUFzQmpCLHlCQUF5QmtCLEdBQUcsQ0FBQ0w7WUFDdkRDLFFBQVFDLEdBQUcsQ0FBQ0UscUJBQXFCM0I7WUFDakMsaUJBQWlCO1lBQ2pCd0IsUUFBUUMsR0FBRyxDQUFDckIsV0FBV0EsV0FBV3VCLHFCQUFxQkUsT0FBTyxDQUFDO1lBQy9ETCxRQUFRQyxHQUFHLENBQUNyQixXQUFXQSxXQUFXSixRQUFRNkIsT0FBTyxDQUFDO1lBQ2xELElBQUlDLE1BQU0sQ0FBQzFCLFdBQVd1Qix1QkFDVnZCLFdBQVdKLE9BQU0sRUFBRzZCLE9BQU8sQ0FBQztZQUN4Q0wsUUFBUUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFSyxLQUFLO1lBQ3hCcEIseUJBQXlCcUIsR0FBRyxDQUFDUixXQUFXTztRQUM1QyxPQUVBO1lBQ0lwQix5QkFBeUJxQixHQUFHLENBQUNSLFdBQVduQixXQUFXSixRQUFRNkIsT0FBTyxDQUFDO1FBQ3ZFO0lBQ0o7SUFDQSxPQUFPbkI7QUFDWDtBQUVBLDRIQUE0SDtBQUM1SCxzREFBc0Q7QUFDL0MsZUFBZXNCLHVCQUF3QkMsU0FBUyxFQUFFQyxPQUFPLEVBQUUvQixVQUFVO0lBRXhFLElBQ0E7UUFDSSxnRUFBZ0U7UUFDaEUsTUFBTWIsU0FBUztZQUFDQyxTQUFTWTtZQUFhOEI7WUFBV0M7U0FBUTtRQUN6RCxNQUFNOUQsUUFBUSxDQUFDOztpREFFMEIsQ0FBQztRQUUxQyxNQUFNQyxVQUFVLE1BQU1OLEtBQUtLLEtBQUssQ0FBQ0EsT0FBT2tCO1FBRXhDLGlHQUFpRztRQUNqRyxNQUFNb0IsMkJBQTJCRixtQ0FBbUNuQyxRQUFRQyxJQUFJO1FBRWhGa0QsUUFBUUMsR0FBRyxDQUFDZix5QkFBeUJ5QixPQUFPO1FBQzVDWCxRQUFRQyxHQUFHLENBQUNULEtBQUtDLFNBQVMsQ0FBQ0osT0FBT3VCLFdBQVcsQ0FBQzFCO1FBQzlDLE9BQU81QyxxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDcUMsT0FBT3VCLFdBQVcsQ0FBQzFCLDJCQUEyQjtZQUFDaEMsUUFBUTtRQUFHO0lBQ3ZGLEVBQ0EsT0FBT0MsS0FDUDtRQUNJLE9BQU9iLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFBQ0MsT0FBTztRQUF1QixHQUFHO1lBQUNDLFFBQVE7UUFBRztJQUMzRTtBQUNKO0FBRUEseUhBQXlIO0FBQ3pILDBEQUEwRDtBQUNuRCxTQUFTMkQsb0NBQW9DNUIsYUFBYTtJQUU3RCxJQUFJNkIsa0JBQWtCO0lBQ3RCZCxRQUFRQyxHQUFHLENBQUNaLE9BQU9DLElBQUksQ0FBQ0wsZUFBZWxDLE1BQU07SUFDN0MsSUFBSyxJQUFJcUMsSUFBSSxHQUFHQSxJQUFJQyxPQUFPQyxJQUFJLENBQUNMLGVBQWVsQyxNQUFNLEVBQUVxQyxJQUN2RDtRQUNJLE1BQU1aLFNBQVNJLFdBQVdLLGFBQWEsQ0FBQ0csRUFBRSxDQUFDWixNQUFNO1FBQ2pEc0MsbUJBQW1CdEM7SUFDdkI7SUFDQSxPQUFPc0MsZ0JBQWdCVCxPQUFPLENBQUM7QUFFbkM7QUFFQSwrRUFBK0U7QUFDL0UsMkZBQTJGO0FBQ3BGLGVBQWVVLG9DQUFvQ3BDLFVBQVUsRUFBRUQsSUFBSTtJQUV0RSxJQUNBO1FBQ0lzQixRQUFRQyxHQUFHLENBQUN0QixZQUFZRDtRQUN4QixNQUFNc0MsZ0JBQWdCdEMsS0FBS2lCLEtBQUssQ0FBQztRQUNqQyxNQUFNQyxPQUFPb0IsYUFBYSxDQUFDLEVBQUU7UUFDN0IsTUFBTWxCLFFBQVFrQixhQUFhLENBQUMsRUFBRTtRQUM5QmhCLFFBQVFDLEdBQUcsQ0FBQ0wsTUFBTUU7UUFFbEIsTUFBTWhDLFNBQVM7WUFBQzhCO1lBQU1FO1lBQU8vQixTQUFTWTtTQUFZO1FBQ2xELE1BQU0vQixRQUFRLENBQUM7OztxQ0FHYyxDQUFDO1FBRTlCLE1BQU1DLFVBQVUsTUFBTU4sS0FBS0ssS0FBSyxDQUFDQSxPQUFPa0I7UUFDeEMsTUFBTW1ELG9CQUFvQkosb0NBQW9DaEUsUUFBUUMsSUFBSTtRQUMxRUQsUUFBUUMsSUFBSSxDQUFDc0IsSUFBSSxDQUFDO1lBQUU2QyxtQkFBbUJBO1FBQWlCO1FBQ3hELE9BQU8zRSxxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDSCxRQUFRQyxJQUFJLEVBQUU7WUFBQ0ksUUFBUTtRQUFHO0lBQ3ZELEVBQ0EsT0FBT0MsS0FDUDtRQUNJLE9BQU9iLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFBQ0MsT0FBTztRQUF1QixHQUFHO1lBQUNDLFFBQVE7UUFBRztJQUMzRTtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RiUm91dGVzLmpzPzdjOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5cbi8vIGltcG9ydHMgUG9zdGdyZVNRTCBkYXRhYmFzZSBwb29sIHRvIHF1ZXJ5IHRoZSBsb2NhbCBkYXRhYmFzZVxuY29uc3QgcG9vbCA9IHJlcXVpcmUoJy4vZGIuanMnKTtcblxuLy8gVXNlcyBFbXBsb3llZSBJRCBpbiBVUkwgdG8gcmV0cmlldmUgYWxsIGRhdGFiYXNlIGZpZWxkcyBmb3IgRW1wbG95ZWUgb2JqZWN0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RW1wbG95ZWVCeUlkIChpZCkge1xuICAgIFxuICAgIHRyeSBcbiAgICB7XG4gICAgICAgIC8vIENvbnZlcnRzIElEIGdpdmVuIGFzIHBhcmFtZXRlciBhbmQgYWRkcyBpdCB0byBsaXN0IHRvIGJlIHVzZWQgaW4gcGFyYW1ldGVyaXNlZCBxdWVyeVxuICAgICAgICBjb25zdCB2YWx1ZSA9IFtpZF07XG4gICAgICAgIC8vIENyZWF0aW9uIG9mIFF1ZXJ5IHdoZXJlICQxIHJlcHJlc2VudHMgcGFyYW1ldGVyaXNlZCBwYXJhbWV0ZXJcbiAgICAgICAgY29uc3QgcXVlcnkgPSBgU0VMRUNUICogRlJPTSBlbXBsb3llZSBXSEVSRSBlbXBfaWQgPSAkMTtgXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZSk7XG5cbiAgICAgICAgLy8gQ2hlY2tzIGlmIGFueSByZXN1bHRzIHdlcmUgcmV0dXJuZWQgZnJvbSB0aGUgZGF0YWJhc2VcbiAgICAgICAgaWYgKHJlc3VsdHMucm93cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvciA6IFwiRW1wbG95ZWUgbm90IGZvdW5kXCJ9LCB7c3RhdHVzOiA0MDR9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm5zIHRoZSBkYXRhIGFzIEpTT04gYW5kIHN0YXR1cyBjb2RlXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHRzLnJvd3NbMF0sIHtzdGF0dXM6IDIwMH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSBcbiAgICB7XG4gICAgICAgIC8vIFJldHVybnMgZXJyb3IgSlNPTiBib2R5IGFuZCBzdGF0dXMgY29kZVxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe2Vycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwifSwge3N0YXR1czogNTAwfSk7XG4gICAgfVxufTtcblxuLy8gVXNlcyBFbXBsb3llZSBJRCBpbiBVUkwgdG8gZGVsZXRlIGRhdGFiYXNlIHJlY29yZCBmb3IgdGhhdCBFbXBsb3llZSBvYmplY3RcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVFbXBsb3llZUJ5SWQgKGlkKSB7XG4gICAgXG4gICAgdHJ5IFxuICAgIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBbaWRdO1xuICAgICAgICBjb25zdCBzZWFyY2hRdWVyeSA9IGBTRUxFQ1QgKiBGUk9NIGVtcGxveWVlIFdIRVJFIGVtcF9pZCA9ICQxO2BcbiAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0gYXdhaXQgcG9vbC5xdWVyeShzZWFyY2hRdWVyeSwgdmFsdWUpO1xuICAgICAgICBpZiAoc2VhcmNoUmVzdWx0LnJvd3MubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3IgOiBcIkVtcGxveWVlIG5vdCBmb3VuZFwifSwge3N0YXR1czogNDA0fSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBcbiAgICAgICAge1xuICAgICAgICAgICBjb25zdCBkZWxldGVRdWVyeSA9IGBERUxFVEUgRlJPTSBlbXBsb3llZSBXSEVSRSBlbXBfaWQgPSAkMTtgIFxuICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcG9vbC5xdWVyeShkZWxldGVRdWVyeSwgdmFsdWUpO1xuICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cy5yb3dzLCB7c3RhdHVzOiAyMDB9KTtcbiAgICAgICAgfSAgICAgXG4gICAgfVxuICAgIGNhdGNoIChlcnIpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvcjogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIn0sIHtzdGF0dXM6IDUwMH0pO1xuICAgIH1cbn07XG5cbi8vIFVzZXMgRW1wbG95ZWUgSUQgYW5kIHRoZSBkYXRhIGZyb20gdGhlIFVJIGZvcm0gdG8gdXBkYXRlIGFsbCBkYXRhYmFzZSBmaWVsZHMgZm9yIEVtcGxveWVlIG9iamVjdFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUVtcGxveWVlQnlJZCAoZmlyc3ROYW1lLCBtaWRkbGVOYW1lLCBsYXN0TmFtZSwgYmlydGhEYXRlLCBwb3NpdGlvbiwgaWQpIFxue1xuICAgIHRyeSBcbiAgICB7ICAgXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtmaXJzdE5hbWUsIG1pZGRsZU5hbWUsIGxhc3ROYW1lLCBiaXJ0aERhdGUsIHBvc2l0aW9uLCBwYXJzZUludChpZCldOyBcbiAgICAgICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICAgICAgICBVUERBVEUgZW1wbG95ZWVcbiAgICAgICAgICAgIFNFVCBmaXJzdG5hbWUgPSAkMSwgbWlkZGxlbmFtZSA9ICQyLCBsYXN0bmFtZSA9ICQzLCBkYXRlID0gJDQsIHBvc2l0aW9uID0gJDUgXG4gICAgICAgICAgICBXSEVSRSBlbXBfaWQgPSAkNjtgO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cywge3N0YXR1czogMjAwfSk7ICAgXG4gICAgfVxuICAgIGNhdGNoIChlcnIpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvcjogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIn0sIHtzdGF0dXM6IDUwMH0pO1xuICAgIH1cbn1cblxuLy8gVXNlcyB0aGUgZGF0YSBmcm9tIHRoZSBVSSBmb3JtIHRvIHBvc3QgbmV3IGRhdGEgdG8gdGhlIGRhdGFiYXNlIGFuZCBjcmVhdGUgbmV3IEVtcGxveWVlIG9iamVjdFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZEVtcGxveWVlVG9EYXRhYmFzZSAoZmlyc3ROYW1lLCBtaWRkbGVOYW1lLCBsYXN0TmFtZSwgYmlydGhEYXRlLCBwb3NpdGlvbikgXG57XG4gICAgdHJ5IFxuICAgIHsgICAgXG4gICAgICAgIGlmICghbWlkZGxlTmFtZSB8fCB0eXBlb2YgbWlkZGxlTmFtZSAhPT0gJ3N0cmluZycpIFxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBbZmlyc3ROYW1lLCBsYXN0TmFtZSwgYmlydGhEYXRlLCBwb3NpdGlvbl07IFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gZW1wbG95ZWUgKGZpcnN0bmFtZSwgbWlkZGxlbmFtZSwgbGFzdG5hbWUsIGRhdGUsIHBvc2l0aW9uKSBcbiAgICAgICAgICAgICAgICBWQUxVRVMgKCQxLCBOVUxMLCAkMiwgJDMsICQ0KSBSRVRVUk5JTkcgZW1wX2lkO2A7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpO1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdHMsIHtzdGF0dXM6IDIwMH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IFtmaXJzdE5hbWUsIG1pZGRsZU5hbWUsIGxhc3ROYW1lLCBiaXJ0aERhdGUsIHBvc2l0aW9uXTsgXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgICAgICAgICAgICBJTlNFUlQgSU5UTyBlbXBsb3llZSAoZmlyc3RuYW1lLCBtaWRkbGVuYW1lLCBsYXN0bmFtZSwgZGF0ZSwgcG9zaXRpb24pIFxuICAgICAgICAgICAgICAgIFZBTFVFUyAoJDEsICQyLCAkMywgJDQsICQ1KSBSRVRVUk5JTkcgZW1wX2lkO2A7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpO1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdHMsIHtzdGF0dXM6IDIwMH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgXG4gICAgICAgIFxuICAgIH1cbiAgICBjYXRjaCAoZXJyKSBcbiAgICB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3I6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCJ9LCB7c3RhdHVzOiA1MDB9KTtcbiAgICB9XG59XG5cbi8vIFVzZXMgU1FMIHRvIHJldHJpZXZlIGRhdGEgZm9yIGFsbCBFbXBsb3llZSBvYmplY3RzIGluIHRoZSBkYXRhYmFzZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbEVtcGxveWVlcygpIFxue1xuICAgIHRyeSBcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIGVtcGxveWVlO2ApO1xuICAgICAgICBpZiAocmVzdWx0cy5yb3dzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe2Vycm9yIDogXCJObyBlbXBsb3llZXMgZm91bmRcIn0pLCB7c3RhdHVzOiA0MDR9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHRzLnJvd3MsIHtzdGF0dXM6IDIwMH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSBcbiAgICB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3I6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCJ9LCB7c3RhdHVzOiA1MDB9KTtcbiAgICB9XG59XG5cbi8vIFVzZXMgc2VhcmNoIHBhcmFtcyBpbnB1dHRlZCBpbnRvIEFQSSBVUkwgZnJvbSBVSSB0byBmaW5kIGFuIGVtcGxveWVlIG9iamVjdCBiYXNlZCBvbiBhIGNvbWJpbmF0aW9uIG9mIGZpcnN0IG5hbWUsIGxhc3QgbmFtZSBhbmQgcG9zaXRpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hGb3JFbXBsb3llZSAoZmlyc3ROYW1lLCBsYXN0TmFtZSwgcG9zaXRpb24pIFxue1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGxldCBxdWVyeSA9IFwiU0VMRUNUICogRlJPTSBlbXBsb3llZSBXSEVSRSAxPTFcIjtcbiAgICBsZXQgaW5kZXggPSAxO1xuICAgIHRyeSBcbiAgICB7XG4gICAgICAgIGlmIChmaXJzdE5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXJ5ICs9IGAgQU5EIGZpcnN0bmFtZSA9ICQke2luZGV4fWBcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKGZpcnN0TmFtZSk7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9IFxuICAgICAgICBpZiAobGFzdE5hbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcXVlcnkgKz0gYCBBTkQgbGFzdG5hbWUgPSAkJHtpbmRleH1gXG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gobGFzdE5hbWUpO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9IFxuICAgICAgICBpZiAocG9zaXRpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcXVlcnkgKz0gYCBBTkQgcG9zaXRpb24gPSAkJHtpbmRleH1gXG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9IFxuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcG9vbC5xdWVyeShxdWVyeSwgdmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdHMucm93cywge3N0YXR1czogMjAwfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvcjogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIn0sIHtzdGF0dXM6IDUwMH0pO1xuICAgIH1cbn1cblxuLy8gVXNlcyBTUUwgdG8gcmV0cmlldmUgZGF0YSBmb3IgYWxsIENvbXBlbnNhdGlvbiBvYmplY3RzIGluIHRoZSBkYXRhYmFzZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbENvbXBlbnNhdGlvbnMoKSBcbntcbiAgICB0cnkgXG4gICAge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcG9vbC5xdWVyeShgU0VMRUNUICogRlJPTSBjb21wZW5zYXRpb247YCk7XG4gICAgICAgIGlmIChyZXN1bHRzLnJvd3MubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3IgOiBcIk5vIGNvbXBlbnNhdGlvbnMgZm91bmRcIn0pLCB7c3RhdHVzOiA0MDR9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHRzLnJvd3MsIHtzdGF0dXM6IDIwMH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSBcbiAgICB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3I6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCJ9LCB7c3RhdHVzOiA1MDB9KTtcbiAgICB9XG59XG5cbi8vIFVzZXMgdGhlIGRhdGEgZnJvbSB0aGUgVUkgZm9ybSB0byBwb3N0IG5ldyBkYXRhIHRvIHRoZSBkYXRhYmFzZSBhbmQgY3JlYXRlIG5ldyBDb21wZW5zYXRpb24gb2JqZWN0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkQ29tcGVuc2F0aW9uVG9EYXRhYmFzZSAoY29tcFR5cGUsIGFtb3VudCwgZGVzY3JpcHRpb24sIGRhdGUsIGVtcGxveWVlSWQpIFxue1xuICAgIHRyeSBcbiAgICB7ICAgIFxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbY29tcFR5cGUsIHBhcnNlRmxvYXQoYW1vdW50KSwgZGVzY3JpcHRpb24sIGRhdGUsIHBhcnNlSW50KGVtcGxveWVlSWQpXTsgXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgICAgICAgSU5TRVJUIElOVE8gY29tcGVuc2F0aW9uICh0eXBlLCBhbW91bnQsIGRlc2NyaXB0aW9uLCBkYXRlLCBma19lbXBsb3llZSkgXG4gICAgICAgICAgICBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0LCAkNSk7YDtcblxuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcG9vbC5xdWVyeShxdWVyeSwgdmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdHMsIHtzdGF0dXM6IDIwMH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSBcbiAgICB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3I6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCJ9LCB7c3RhdHVzOiA1MDB9KTtcbiAgICB9XG59XG5cbi8vIFVzZXMgQ29tcGVuc2F0aW9uIElEIGluIFVSTCB0byByZXRyaWV2ZSBhbGwgZGF0YWJhc2UgZmllbGRzIGZvciBDb21wZW5zYXRpb24gb2JqZWN0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29tcGVuc2F0aW9uQnlJZCAoaWQpIFxue1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBbaWRdO1xuICAgICAgICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgKiBGUk9NIGNvbXBlbnNhdGlvbiBXSEVSRSBjb21wX2lkID0gJDE7YFxuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcG9vbC5xdWVyeShxdWVyeSwgdmFsdWUpO1xuICAgICAgICBpZiAocmVzdWx0cy5yb3dzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe2Vycm9yIDogXCJDb21wZW5zYXRpb24gbm90IGZvdW5kXCJ9LCB7c3RhdHVzOiA0MDR9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cy5yb3dzWzBdLCB7c3RhdHVzOiAyMDB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikgXG4gICAge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe2Vycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwifSwge3N0YXR1czogNTAwfSk7XG4gICAgfVxufVxuXG4vLyBVc2VzIEVtcGxveWVlIElEIGluIFVSTCB0byBkZWxldGUgZGF0YWJhc2UgcmVjb3JkIGZvciB0aGF0IEVtcGxveWVlIG9iamVjdFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbXBlbnNhdGlvbkJ5SWQgKGlkKVxue1xuICAgIHRyeSBcbiAgICB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gW2lkXTtcbiAgICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBgU0VMRUNUICogRlJPTSBjb21wZW5zYXRpb24gV0hFUkUgY29tcF9pZCA9ICQxO2BcbiAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0gYXdhaXQgcG9vbC5xdWVyeShzZWFyY2hRdWVyeSwgdmFsdWUpO1xuICAgICAgICBpZiAoc2VhcmNoUmVzdWx0LnJvd3MubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3IgOiBcIkNvbXBlbnNhdGlvbiBub3QgZm91bmRcIn0sIHtzdGF0dXM6IDQwNH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgY29uc3QgZGVsZXRlUXVlcnkgPSBgREVMRVRFIEZST00gY29tcGVuc2F0aW9uIFdIRVJFIGNvbXBfaWQgPSAkMTtgIFxuICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcG9vbC5xdWVyeShkZWxldGVRdWVyeSwgdmFsdWUpO1xuICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cy5yb3dzLCB7c3RhdHVzOiAyMDB9KTtcbiAgICAgICAgfSAgICAgXG4gICAgfVxuICAgIGNhdGNoIChlcnIpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvcjogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIn0sIHtzdGF0dXM6IDUwMH0pO1xuICAgIH1cbn1cblxuLy8gVXNlcyBDb21wZW5zYXRpb24gSUQgYW5kIHRoZSBkYXRhIGZyb20gdGhlIFVJIGZvcm0gdG8gdXBkYXRlIGFsbCBkYXRhYmFzZSBmaWVsZHMgZm9yIENvbXBlbnNhdGlvbiBvYmplY3RcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb21wZW5zYXRpb25CeUlkIChhbW91bnQsIGRlc2NyaXB0aW9uLCBpZClcbntcbiAgICB0cnkgXG4gICAgeyAgIFxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbYW1vdW50LCBkZXNjcmlwdGlvbiwgcGFyc2VJbnQoaWQpXTsgXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgICAgICAgVVBEQVRFIGNvbXBlbnNhdGlvblxuICAgICAgICAgICAgU0VUIGFtb3VudCA9ICQxLCBkZXNjcmlwdGlvbiA9ICQyIFxuICAgICAgICAgICAgV0hFUkUgY29tcF9pZCA9ICQzO2A7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBvb2wucXVlcnkocXVlcnksIHZhbHVlcyk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHRzLCB7c3RhdHVzOiAyMDB9KTsgICBcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe2Vycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwifSwge3N0YXR1czogNTAwfSk7XG4gICAgfVxufVxuXG4vLyBVc2VzIHRoZSBzZWFyY2hGb3JDb21wZW5zYXRpb25zIEFQSSBlbmRwb2ludCBhbmQgY2FsY3VsYXRlcyBjb21wZW5zYXRpb24gZm9yIGVhY2ggbW9udGgveWVhciBpbmRpdmlkdWFsbHkgYW5kIHJldHVybnMgSlMgTWFwXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlVG90YWxDb21wZW5zYXRpb25QZXJNb250aChjb21wZW5zYXRpb25zKSBcbntcbiAgICBsZXQgY29tcGVuc2F0aW9uUGVyWWVhck1vbnRoID0gbmV3IE1hcCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgT2JqZWN0LmtleXMoY29tcGVuc2F0aW9ucykubGVuZ3RoOyBpKyspIFxuICAgIHtcbiAgICAgICAgY29uc3Qgc3RyaW5nRGF0ZSA9IEpTT04uc3RyaW5naWZ5KGNvbXBlbnNhdGlvbnNbaV0uZGF0ZSlcbiAgICAgICAgLy9TdHJpbmcgcHJvY2Vzc2luZyB0byBhY2hpZXZlIFlZWVktbW0gbm90YXRpb25cbiAgICAgICAgY29uc3QgYW1vdW50ID0gY29tcGVuc2F0aW9uc1tpXS5hbW91bnQ7XG4gICAgICAgIGNvbnN0IGRhdGVBcnJheSA9IHN0cmluZ0RhdGUuc3BsaXQoXCItXCIpO1xuICAgICAgICBjb25zdCB5ZWFyID0gZGF0ZUFycmF5WzBdLnJlcGxhY2UoJ1wiJywgJycpO1xuICAgICAgICBjb25zdCBtb250aCA9IGRhdGVBcnJheVsxXTtcbiAgICAgICAgY29uc3QgeWVhck1vbnRoID0geWVhciArIFwiLVwiICsgbW9udGg7XG5cbiAgICAgICAgY29uc29sZS5sb2coeWVhck1vbnRoKTtcblxuICAgICAgICBpZiAoY29tcGVuc2F0aW9uUGVyWWVhck1vbnRoLmhhcyh5ZWFyTW9udGgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY3VycmVudENvbXBlbnNhdGlvbiA9IGNvbXBlbnNhdGlvblBlclllYXJNb250aC5nZXQoeWVhck1vbnRoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRDb21wZW5zYXRpb24sIGFtb3VudCk7XG4gICAgICAgICAgICAvL1N1bSBDYWxjdWxhdGlvblxuICAgICAgICAgICAgY29uc29sZS5sb2cocGFyc2VGbG9hdChwYXJzZUZsb2F0KGN1cnJlbnRDb21wZW5zYXRpb24pLnRvRml4ZWQoMikpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcnNlRmxvYXQocGFyc2VGbG9hdChhbW91bnQpLnRvRml4ZWQoMikpKTtcbiAgICAgICAgICAgIGxldCBzdW0gPSAocGFyc2VGbG9hdChjdXJyZW50Q29tcGVuc2F0aW9uKSArIFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbW91bnQpKS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYHN1bSAke3N1bX1gKTtcbiAgICAgICAgICAgIGNvbXBlbnNhdGlvblBlclllYXJNb250aC5zZXQoeWVhck1vbnRoLCBzdW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbXBlbnNhdGlvblBlclllYXJNb250aC5zZXQoeWVhck1vbnRoLCBwYXJzZUZsb2F0KGFtb3VudCkudG9GaXhlZCgyKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbXBlbnNhdGlvblBlclllYXJNb250aDtcbn1cblxuLy8gVXNlcyBTUUwgdG8gZmluZCBDb21wZW5zYXRpb24gb2JqZWN0cyB3aGljaCBhcmUgd2l0aGluIGEgZGF0ZSByYW5nZSB1c2luZyB0aGUgQkVUV0VFTiBzcWwgb3BlcmF0b3IgZm9yIGEgY2VydGFpbiBlbXBsb3llZVxuLy8gVmFsdWVzIGFyZSBwYXNzZWQgdXNpbmcgc2VhcmNoIHBhcmFtcyBpbnRvIGVuZHBvaW50XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoRm9yQ29tcGVuc2F0aW9ucyAoc3RhcnREYXRlLCBlbmREYXRlLCBlbXBsb3llZUlkKSBcbntcbiAgICB0cnkgXG4gICAge1xuICAgICAgICAvL1F1ZXJ5IHRoZSBkYXRhYmFzZSB0byBzZWUgY29tcGVuc2F0aW9ucyBkdXJpbmcgdGhpcyB0aW1lIGZyYW1lXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtwYXJzZUludChlbXBsb3llZUlkKSwgc3RhcnREYXRlLCBlbmREYXRlXTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBgU0VMRUNUIGRhdGUsIGFtb3VudCwgY29tcF9pZCBGUk9NIGNvbXBlbnNhdGlvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgV0hFUkUgZmtfZW1wbG95ZWUgPSAkMSBcbiAgICAgICAgICAgICAgICAgICAgICAgQU5EIGRhdGUgQkVUV0VFTiAkMiBBTkQgJDNgO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpO1xuXG4gICAgICAgIC8vU3VtbWF0ZSB0aGUgY29zdHMgb2YgZWFjaCBvZiB0aGVzZSBjb21wZW5zYXRpb25zIHBlciBtb250aCB0byBzZWUgdG90YWwgY29tcGVuc2F0aW9uIGVhY2ggbW9udGhcbiAgICAgICAgY29uc3QgY29tcGVuc2F0aW9uUGVyWWVhck1vbnRoID0gY2FsY3VsYXRlVG90YWxDb21wZW5zYXRpb25QZXJNb250aChyZXN1bHRzLnJvd3MpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGNvbXBlbnNhdGlvblBlclllYXJNb250aC5lbnRyaWVzKCkpO1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShPYmplY3QuZnJvbUVudHJpZXMoY29tcGVuc2F0aW9uUGVyWWVhck1vbnRoKSkpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oT2JqZWN0LmZyb21FbnRyaWVzKGNvbXBlbnNhdGlvblBlclllYXJNb250aCksIHtzdGF0dXM6IDIwMH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSBcbiAgICB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3I6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCJ9LCB7c3RhdHVzOiA1MDB9KTtcbiAgICB9XG59XG5cbi8vIFVzZWQgYnkgZ2V0Q29tcGVuc2F0aW9uc0J5RW1wbG95ZWVJZEFuZERhdGUgdG8gZXh0ZW5kIEFQSSBlbmRwb2ludCB0byByZXR1cm4gdGhlIHRvdGFsIGNvbXBlbnNhdGlvbiBmb3IgQSBTSU5HTEUgTU9OVEhcbi8vIHdoaWNoIHRoZSBkYXRlIGlzIHByZXNlbnQgd2l0aGluIGUuZy4sIDA5IGFrYSBTZXB0ZW1iZXJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVDb21wZW5zYXRpb25Gb3JTaW5nbGVNb250aChjb21wZW5zYXRpb25zKSBcbntcbiAgICBsZXQgc3VtQ29tcGVuc2F0aW9uID0gMDtcbiAgICBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyhjb21wZW5zYXRpb25zKS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgT2JqZWN0LmtleXMoY29tcGVuc2F0aW9ucykubGVuZ3RoOyBpKyspIFxuICAgIHsgICBcbiAgICAgICAgY29uc3QgYW1vdW50ID0gcGFyc2VGbG9hdChjb21wZW5zYXRpb25zW2ldLmFtb3VudCk7XG4gICAgICAgIHN1bUNvbXBlbnNhdGlvbiArPSBhbW91bnQ7XG4gICAgfVxuICAgIHJldHVybiBzdW1Db21wZW5zYXRpb24udG9GaXhlZCgyKTtcblxufVxuXG4vLyBHZXQgYWxsIENvbXBlbnNhdGlvbiBvYmplY3QgZGF0YSBmcm9tIHRoZSBkYXRhYmFzZSBmb3IgT05FIGNvbXBlbnNhdGlvbiBvbmx5XG4vLyBVc2VzIGNvbXBlbnNhdGlvbnMvYnJlYWtkb3duIEFQSSB3aGVyZSBlbXBsb3llZUlkIGFuZCBkYXRlIGFyZSBwYXNzZWQgYXMgaW5wdXRzIGludG8gVVJMXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29tcGVuc2F0aW9uc0J5RW1wbG95ZWVJZEFuZERhdGUoZW1wbG95ZWVJZCwgZGF0ZSlcbntcbiAgICB0cnkgXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhlbXBsb3llZUlkLCBkYXRlKTtcbiAgICAgICAgY29uc3QgZGF0ZVNlcGFyYXRlZCA9IGRhdGUuc3BsaXQoJy0nKTtcbiAgICAgICAgY29uc3QgeWVhciA9IGRhdGVTZXBhcmF0ZWRbMF07XG4gICAgICAgIGNvbnN0IG1vbnRoID0gZGF0ZVNlcGFyYXRlZFsxXTtcbiAgICAgICAgY29uc29sZS5sb2coeWVhciwgbW9udGgpO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFt5ZWFyLCBtb250aCwgcGFyc2VJbnQoZW1wbG95ZWVJZCldO1xuICAgICAgICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgKiBGUk9NIGNvbXBlbnNhdGlvbiBcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgRVhUUkFDVChZRUFSIEZST00gZGF0ZSkgPSAkMSBBTkQgXG4gICAgICAgICAgICAgICAgICAgIEVYVFJBQ1QoTU9OVEggRlJPTSBkYXRlKSA9ICQyIEFORFxuICAgICAgICAgICAgICAgICAgICBma19lbXBsb3llZSA9ICQzO2BcblxuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcG9vbC5xdWVyeShxdWVyeSwgdmFsdWVzKTtcbiAgICAgICAgY29uc3QgbW9udGhDb21wZW5zYXRpb24gPSBjYWxjdWxhdGVDb21wZW5zYXRpb25Gb3JTaW5nbGVNb250aChyZXN1bHRzLnJvd3MpO1xuICAgICAgICByZXN1bHRzLnJvd3MucHVzaCh7IG1vbnRoQ29tcGVuc2F0aW9uOiBtb250aENvbXBlbnNhdGlvbn0pO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cy5yb3dzLCB7c3RhdHVzOiAyMDB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycilcbiAgICB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3I6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCJ9LCB7c3RhdHVzOiA1MDB9KTtcbiAgICB9ICAgXG59XG4gICAgIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInBvb2wiLCJyZXF1aXJlIiwiZ2V0RW1wbG95ZWVCeUlkIiwiaWQiLCJ2YWx1ZSIsInF1ZXJ5IiwicmVzdWx0cyIsInJvd3MiLCJsZW5ndGgiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJlcnIiLCJkZWxldGVFbXBsb3llZUJ5SWQiLCJzZWFyY2hRdWVyeSIsInNlYXJjaFJlc3VsdCIsImRlbGV0ZVF1ZXJ5IiwidXBkYXRlRW1wbG95ZWVCeUlkIiwiZmlyc3ROYW1lIiwibWlkZGxlTmFtZSIsImxhc3ROYW1lIiwiYmlydGhEYXRlIiwicG9zaXRpb24iLCJ2YWx1ZXMiLCJwYXJzZUludCIsImFkZEVtcGxveWVlVG9EYXRhYmFzZSIsImdldEFsbEVtcGxveWVlcyIsInNlYXJjaEZvckVtcGxveWVlIiwiaW5kZXgiLCJwdXNoIiwiZ2V0QWxsQ29tcGVuc2F0aW9ucyIsImFkZENvbXBlbnNhdGlvblRvRGF0YWJhc2UiLCJjb21wVHlwZSIsImFtb3VudCIsImRlc2NyaXB0aW9uIiwiZGF0ZSIsImVtcGxveWVlSWQiLCJwYXJzZUZsb2F0IiwiZ2V0Q29tcGVuc2F0aW9uQnlJZCIsImRlbGV0ZUNvbXBlbnNhdGlvbkJ5SWQiLCJ1cGRhdGVDb21wZW5zYXRpb25CeUlkIiwiY2FsY3VsYXRlVG90YWxDb21wZW5zYXRpb25QZXJNb250aCIsImNvbXBlbnNhdGlvbnMiLCJjb21wZW5zYXRpb25QZXJZZWFyTW9udGgiLCJNYXAiLCJpIiwiT2JqZWN0Iiwia2V5cyIsInN0cmluZ0RhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0ZUFycmF5Iiwic3BsaXQiLCJ5ZWFyIiwicmVwbGFjZSIsIm1vbnRoIiwieWVhck1vbnRoIiwiY29uc29sZSIsImxvZyIsImhhcyIsImN1cnJlbnRDb21wZW5zYXRpb24iLCJnZXQiLCJ0b0ZpeGVkIiwic3VtIiwic2V0Iiwic2VhcmNoRm9yQ29tcGVuc2F0aW9ucyIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJlbnRyaWVzIiwiZnJvbUVudHJpZXMiLCJjYWxjdWxhdGVDb21wZW5zYXRpb25Gb3JTaW5nbGVNb250aCIsInN1bUNvbXBlbnNhdGlvbiIsImdldENvbXBlbnNhdGlvbnNCeUVtcGxveWVlSWRBbmREYXRlIiwiZGF0ZVNlcGFyYXRlZCIsIm1vbnRoQ29tcGVuc2F0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/dbRoutes.js\n");

/***/ }),

/***/ "(rsc)/./src/app/api/employees/search/route.ts":
/*!***********************************************!*\
  !*** ./src/app/api/employees/search/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var _lib_dbRoutes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../lib/dbRoutes */ \"(rsc)/./lib/dbRoutes.js\");\n\n// Use the search params from the URL to find Employee object in the database\nasync function GET(req) {\n    const url = new URL(req.url);\n    const firstName = url.searchParams.get(\"firstName\");\n    const lastName = url.searchParams.get(\"lastName\");\n    const position = url.searchParams.get(\"position\");\n    return (0,_lib_dbRoutes__WEBPACK_IMPORTED_MODULE_0__.searchForEmployee)(firstName, lastName, position);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9lbXBsb3llZXMvc2VhcmNoL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQzhEO0FBRTlELDZFQUE2RTtBQUN0RSxlQUFlQyxJQUFJQyxHQUFnQjtJQUV0QyxNQUFNQyxNQUFNLElBQUlDLElBQUlGLElBQUlDLEdBQUc7SUFDM0IsTUFBTUUsWUFBWUYsSUFBSUcsWUFBWSxDQUFDQyxHQUFHLENBQUM7SUFDdkMsTUFBTUMsV0FBV0wsSUFBSUcsWUFBWSxDQUFDQyxHQUFHLENBQUM7SUFDdEMsTUFBTUUsV0FBV04sSUFBSUcsWUFBWSxDQUFDQyxHQUFHLENBQUM7SUFFdEMsT0FBT1AsZ0VBQWlCQSxDQUFDSyxXQUFXRyxVQUFVQztBQUNsRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcHAvYXBpL2VtcGxveWVlcy9zZWFyY2gvcm91dGUudHM/YTA3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHtzZWFyY2hGb3JFbXBsb3llZX0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2xpYi9kYlJvdXRlc1wiO1xuXG4vLyBVc2UgdGhlIHNlYXJjaCBwYXJhbXMgZnJvbSB0aGUgVVJMIHRvIGZpbmQgRW1wbG95ZWUgb2JqZWN0IGluIHRoZSBkYXRhYmFzZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXE6IE5leHRSZXF1ZXN0KSBcbntcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcS51cmwpO1xuICAgIGNvbnN0IGZpcnN0TmFtZSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwiZmlyc3ROYW1lXCIpO1xuICAgIGNvbnN0IGxhc3ROYW1lID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJsYXN0TmFtZVwiKTtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwicG9zaXRpb25cIik7XG5cbiAgICByZXR1cm4gc2VhcmNoRm9yRW1wbG95ZWUoZmlyc3ROYW1lLCBsYXN0TmFtZSwgcG9zaXRpb24pO1xufSJdLCJuYW1lcyI6WyJzZWFyY2hGb3JFbXBsb3llZSIsIkdFVCIsInJlcSIsInVybCIsIlVSTCIsImZpcnN0TmFtZSIsInNlYXJjaFBhcmFtcyIsImdldCIsImxhc3ROYW1lIiwicG9zaXRpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/employees/search/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/dotenv"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Femployees%2Fsearch%2Froute&page=%2Fapi%2Femployees%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployees%2Fsearch%2Froute.ts&appDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();
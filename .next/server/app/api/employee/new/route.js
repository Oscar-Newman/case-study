/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/employee/new/route";
exports.ids = ["app/api/employee/new/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("pg");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Femployee%2Fnew%2Froute&page=%2Fapi%2Femployee%2Fnew%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployee%2Fnew%2Froute.ts&appDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Femployee%2Fnew%2Froute&page=%2Fapi%2Femployee%2Fnew%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployee%2Fnew%2Froute.ts&appDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_sunilsamra_java_applications_case_study_src_app_api_employee_new_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/employee/new/route.ts */ \"(rsc)/./src/app/api/employee/new/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/employee/new/route\",\n        pathname: \"/api/employee/new\",\n        filename: \"route\",\n        bundlePath: \"app/api/employee/new/route\"\n    },\n    resolvedPagePath: \"/Users/sunilsamra/java-applications/case-study/src/app/api/employee/new/route.ts\",\n    nextConfigOutput,\n    userland: _Users_sunilsamra_java_applications_case_study_src_app_api_employee_new_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZlbXBsb3llZSUyRm5ldyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZW1wbG95ZWUlMkZuZXclMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZlbXBsb3llZSUyRm5ldyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnN1bmlsc2FtcmElMkZqYXZhLWFwcGxpY2F0aW9ucyUyRmNhc2Utc3R1ZHklMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGc3VuaWxzYW1yYSUyRmphdmEtYXBwbGljYXRpb25zJTJGY2FzZS1zdHVkeSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZ0M7QUFDN0c7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLz8xYmYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc3VuaWxzYW1yYS9qYXZhLWFwcGxpY2F0aW9ucy9jYXNlLXN0dWR5L3NyYy9hcHAvYXBpL2VtcGxveWVlL25ldy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZW1wbG95ZWUvbmV3L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZW1wbG95ZWUvbmV3XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9lbXBsb3llZS9uZXcvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvc3VuaWxzYW1yYS9qYXZhLWFwcGxpY2F0aW9ucy9jYXNlLXN0dWR5L3NyYy9hcHAvYXBpL2VtcGxveWVlL25ldy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Femployee%2Fnew%2Froute&page=%2Fapi%2Femployee%2Fnew%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployee%2Fnew%2Froute.ts&appDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("// Use the .env file to retrieve values for pool\n\n(__webpack_require__(/*! dotenv */ \"(rsc)/./node_modules/dotenv/lib/main.js\").config)();\n// Use the pg library to import Pool object\nconst { Pool } = __webpack_require__(/*! pg */ \"pg\");\n// Create pool with fields from .env file\nconst pool = new Pool({\n    user: process.env.DB_USER,\n    host: process.env.DB_HOST,\n    database: process.env.DB_DATABASE,\n    password: process.env.DB_PASSWORD,\n    port: process.env.DB_PORT\n});\n// export pool to be used elsewhere in project dir\nmodule.exports = pool;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0RBQWdEOztBQUNoREEscUZBQXdCO0FBRXhCLDJDQUEyQztBQUMzQyxNQUFNLEVBQUNFLElBQUksRUFBQyxHQUFHRixtQkFBT0EsQ0FBQyxjQUFJO0FBRTNCLHlDQUF5QztBQUN6QyxNQUFNRyxPQUFPLElBQUlELEtBQUs7SUFDbEJFLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsT0FBTztJQUN6QkMsTUFBTUgsUUFBUUMsR0FBRyxDQUFDRyxPQUFPO0lBQ3pCQyxVQUFVTCxRQUFRQyxHQUFHLENBQUNLLFdBQVc7SUFDakNDLFVBQVVQLFFBQVFDLEdBQUcsQ0FBQ08sV0FBVztJQUNqQ0MsTUFBTVQsUUFBUUMsR0FBRyxDQUFDUyxPQUFPO0FBQzdCO0FBRUEsa0RBQWtEO0FBQ2xEQyxPQUFPQyxPQUFPLEdBQUdkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RiLmpzPzNkYzkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVXNlIHRoZSAuZW52IGZpbGUgdG8gcmV0cmlldmUgdmFsdWVzIGZvciBwb29sXG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcblxuLy8gVXNlIHRoZSBwZyBsaWJyYXJ5IHRvIGltcG9ydCBQb29sIG9iamVjdFxuY29uc3Qge1Bvb2x9ID0gcmVxdWlyZSgncGcnKTtcblxuLy8gQ3JlYXRlIHBvb2wgd2l0aCBmaWVsZHMgZnJvbSAuZW52IGZpbGVcbmNvbnN0IHBvb2wgPSBuZXcgUG9vbCh7XG4gICAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUixcbiAgICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NULFxuICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9EQVRBQkFTRSxcbiAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gICAgcG9ydDogcHJvY2Vzcy5lbnYuREJfUE9SVCxcbn0pO1xuXG4vLyBleHBvcnQgcG9vbCB0byBiZSB1c2VkIGVsc2V3aGVyZSBpbiBwcm9qZWN0IGRpclxubW9kdWxlLmV4cG9ydHMgPSBwb29sOyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiUG9vbCIsInBvb2wiLCJ1c2VyIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVIiLCJob3N0IiwiREJfSE9TVCIsImRhdGFiYXNlIiwiREJfREFUQUJBU0UiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwicG9ydCIsIkRCX1BPUlQiLCJtb2R1bGUiLCJleHBvcnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ }),

/***/ "(rsc)/./lib/dbRoutes.js":
/*!*************************!*\
  !*** ./lib/dbRoutes.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addCompensationToDatabase: () => (/* binding */ addCompensationToDatabase),\n/* harmony export */   addEmployeeToDatabase: () => (/* binding */ addEmployeeToDatabase),\n/* harmony export */   calculateCompensationForSingleMonth: () => (/* binding */ calculateCompensationForSingleMonth),\n/* harmony export */   calculateTotalCompensationPerMonth: () => (/* binding */ calculateTotalCompensationPerMonth),\n/* harmony export */   deleteCompensationById: () => (/* binding */ deleteCompensationById),\n/* harmony export */   deleteEmployeeById: () => (/* binding */ deleteEmployeeById),\n/* harmony export */   getAllCompensations: () => (/* binding */ getAllCompensations),\n/* harmony export */   getAllEmployees: () => (/* binding */ getAllEmployees),\n/* harmony export */   getCompensationById: () => (/* binding */ getCompensationById),\n/* harmony export */   getCompensationsByEmployeeIdAndDate: () => (/* binding */ getCompensationsByEmployeeIdAndDate),\n/* harmony export */   getEmployeeById: () => (/* binding */ getEmployeeById),\n/* harmony export */   searchForCompensations: () => (/* binding */ searchForCompensations),\n/* harmony export */   searchForEmployee: () => (/* binding */ searchForEmployee),\n/* harmony export */   updateCompensationById: () => (/* binding */ updateCompensationById),\n/* harmony export */   updateEmployeeById: () => (/* binding */ updateEmployeeById)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n// imports PostgreSQL database pool to query the local database\nconst pool = __webpack_require__(/*! ./db.js */ \"(rsc)/./lib/db.js\");\n// Uses Employee ID in URL to retrieve all database fields for Employee object\nasync function getEmployeeById(id) {\n    try {\n        // Converts ID given as parameter and adds it to list to be used in parameterised query\n        const value = [\n            id\n        ];\n        // Creation of Query where $1 represents parameterised parameter\n        const query = `SELECT * FROM employee WHERE emp_id = $1;`;\n        const results = await pool.query(query, value);\n        // Checks if any results were returned from the database\n        if (results.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Employee not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Returns the data as JSON and status code\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows[0], {\n            status: 200\n        });\n    } catch (err) {\n        // Returns error JSON body and status code\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n;\n// Uses Employee ID in URL to delete database record for that Employee object\nasync function deleteEmployeeById(id) {\n    try {\n        const value = [\n            id\n        ];\n        const searchQuery = `SELECT * FROM employee WHERE emp_id = $1;`;\n        const searchResult = await pool.query(searchQuery, value);\n        if (searchResult.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Employee not found\"\n            }, {\n                status: 404\n            });\n        } else {\n            const deleteQuery = `DELETE FROM employee WHERE emp_id = $1;`;\n            const results = await pool.query(deleteQuery, value);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n                status: 200\n            });\n        }\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n;\n// Uses Employee ID and the data from the UI form to update all database fields for Employee object\nasync function updateEmployeeById(firstName, middleName, lastName, birthDate, position, id) {\n    try {\n        const values = [\n            firstName,\n            middleName,\n            lastName,\n            birthDate,\n            position,\n            parseInt(id)\n        ];\n        console.log(birthDate);\n        const query = `\n            UPDATE employee\n            SET firstname = $1, middlename = $2, lastname = $3, date = to_date($4, 'YYYY-MM-DD'), position = $5 \n            WHERE emp_id = $6;`;\n        const results = await pool.query(query, values);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses the data from the UI form to post new data to the database and create new Employee object\nasync function addEmployeeToDatabase(firstName, middleName, lastName, birthDate, position) {\n    try {\n        if (!middleName || typeof middleName !== 'string') {\n            const values = [\n                firstName,\n                lastName,\n                birthDate,\n                position\n            ];\n            const query = `\n                INSERT INTO employee (firstname, middlename, lastname, date, position) \n                VALUES ($1, NULL, $2, $3, $4) RETURNING emp_id;`;\n            const results = await pool.query(query, values);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results, {\n                status: 200\n            });\n        } else {\n            const values = [\n                firstName,\n                middleName,\n                lastName,\n                birthDate,\n                position\n            ];\n            const query = `\n                INSERT INTO employee (firstname, middlename, lastname, date, position) \n                VALUES ($1, $2, $3, $4, $5) RETURNING emp_id;`;\n            const results = await pool.query(query, values);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results, {\n                status: 200\n            });\n        }\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses SQL to retrieve data for all Employee objects in the database\nasync function getAllEmployees() {\n    try {\n        const results = await pool.query(`SELECT * FROM employee;`);\n        if (results.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No employees found\"\n            }), {\n                status: 404\n            };\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses search params inputted into API URL from UI to find an employee object based on a combination of first name, last name and position\nasync function searchForEmployee(firstName, lastName, position) {\n    const values = [];\n    let query = \"SELECT * FROM employee WHERE 1=1\";\n    let index = 1;\n    try {\n        if (firstName) {\n            query += ` AND firstname = $${index}`;\n            values.push(firstName);\n            index++;\n        }\n        if (lastName) {\n            query += ` AND lastname = $${index}`;\n            values.push(lastName);\n            index++;\n        }\n        if (position) {\n            query += ` AND position = $${index}`;\n            values.push(position);\n            index++;\n        }\n        const results = await pool.query(query, values);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses SQL to retrieve data for all Compensation objects in the database\nasync function getAllCompensations() {\n    try {\n        const results = await pool.query(`SELECT * FROM compensation;`);\n        if (results.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No compensations found\"\n            }), {\n                status: 404\n            };\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses the data from the UI form to post new data to the database and create new Compensation object\nasync function addCompensationToDatabase(compType, amount, description, date, employeeId) {\n    try {\n        const values = [\n            compType,\n            parseFloat(amount),\n            description,\n            date,\n            parseInt(employeeId)\n        ];\n        const query = `\n            INSERT INTO compensation (type, amount, description, date, fk_employee) \n            VALUES ($1, $2, $3, $4, $5);`;\n        const results = await pool.query(query, values);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses Compensation ID in URL to retrieve all database fields for Compensation object\nasync function getCompensationById(id) {\n    try {\n        const value = [\n            id\n        ];\n        const query = `SELECT * FROM compensation WHERE comp_id = $1;`;\n        const results = await pool.query(query, value);\n        if (results.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Compensation not found\"\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows[0], {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses Employee ID in URL to delete database record for that Employee object\nasync function deleteCompensationById(id) {\n    try {\n        const value = [\n            id\n        ];\n        const searchQuery = `SELECT * FROM compensation WHERE comp_id = $1;`;\n        const searchResult = await pool.query(searchQuery, value);\n        if (searchResult.rows.length == 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Compensation not found\"\n            }, {\n                status: 404\n            });\n        } else {\n            const deleteQuery = `DELETE FROM compensation WHERE comp_id = $1;`;\n            const results = await pool.query(deleteQuery, value);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n                status: 200\n            });\n        }\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses Compensation ID and the data from the UI form to update all database fields for Compensation object\nasync function updateCompensationById(amount, description, id) {\n    try {\n        const values = [\n            amount,\n            description,\n            parseInt(id)\n        ];\n        const query = `\n            UPDATE compensation\n            SET amount = $1, description = $2 \n            WHERE comp_id = $3;`;\n        const results = await pool.query(query, values);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Uses the searchForCompensations API endpoint and calculates compensation for each month/year individually and returns JS Map\nfunction calculateTotalCompensationPerMonth(compensations) {\n    let compensationPerYearMonth = new Map();\n    for(let i = 0; i < Object.keys(compensations).length; i++){\n        const yearMonth = compensations[i].to_char;\n        const amount = compensations[i].amount;\n        console.log(yearMonth, typeof yearMonth);\n        if (compensationPerYearMonth.has(yearMonth)) {\n            let currentCompensation = compensationPerYearMonth.get(yearMonth);\n            console.log(currentCompensation, amount);\n            //Sum Calculation\n            console.log(parseFloat(parseFloat(currentCompensation).toFixed(2)));\n            console.log(parseFloat(parseFloat(amount).toFixed(2)));\n            let sum = (parseFloat(currentCompensation) + parseFloat(amount)).toFixed(2);\n            console.log(`sum ${sum}`);\n            compensationPerYearMonth.set(yearMonth, sum);\n        } else {\n            compensationPerYearMonth.set(yearMonth, parseFloat(amount).toFixed(2));\n        }\n    }\n    return compensationPerYearMonth;\n}\n// Uses SQL to find Compensation objects which are within a date range using the BETWEEN sql operator for a certain employee\n// Values are passed using search params into endpoint\nasync function searchForCompensations(startDate, endDate, employeeId) {\n    try {\n        //Query the database to see compensations during this time frame\n        const values = [\n            parseInt(employeeId),\n            startDate,\n            endDate\n        ];\n        const query = `SELECT to_char(date, 'YYYY-MM'), amount, comp_id FROM compensation \n                       WHERE fk_employee = $1 \n                       AND date BETWEEN $2 AND $3`;\n        const results = await pool.query(query, values);\n        //Summate the costs of each of these compensations per month to see total compensation each month\n        const compensationPerYearMonth = calculateTotalCompensationPerMonth(results.rows);\n        console.log(compensationPerYearMonth.entries());\n        console.log(JSON.stringify(Object.fromEntries(compensationPerYearMonth)));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(Object.fromEntries(compensationPerYearMonth), {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Used by getCompensationsByEmployeeIdAndDate to extend API endpoint to return the total compensation for A SINGLE MONTH\n// which the date is present within e.g., 09 aka September\nfunction calculateCompensationForSingleMonth(compensations) {\n    let sumCompensation = 0;\n    console.log(Object.keys(compensations).length);\n    for(let i = 0; i < Object.keys(compensations).length; i++){\n        const amount = parseFloat(compensations[i].amount);\n        sumCompensation += amount;\n    }\n    return sumCompensation.toFixed(2);\n}\n// Get all Compensation object data from the database for ONE compensation only\n// Uses compensations/breakdown API where employeeId and date are passed as inputs into URL\nasync function getCompensationsByEmployeeIdAndDate(employeeId, date) {\n    try {\n        const dateSeparated = date.split('-');\n        const year = dateSeparated[0];\n        const month = dateSeparated[1];\n        console.log(year, month);\n        const values = [\n            year,\n            month,\n            parseInt(employeeId)\n        ];\n        const query = `SELECT * FROM compensation \n                    WHERE EXTRACT(YEAR FROM date) = $1 AND \n                    EXTRACT(MONTH FROM date) = $2 AND\n                    fk_employee = $3;`;\n        const results = await pool.query(query, values);\n        const monthCompensation = calculateCompensationForSingleMonth(results.rows);\n        results.rows.push({\n            monthCompensation: monthCompensation\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results.rows, {\n            status: 200\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQzdCLE1BQU1HLFFBQVFILGFBQWEsQ0FBQyxFQUFFO1FBQzlCM0MsUUFBUUMsR0FBRyxDQUFDNEMsTUFBTUM7UUFFbEIsTUFBTWhELFNBQVM7WUFBQytDO1lBQU1DO1lBQU8vQyxTQUFTYztTQUFZO1FBQ2xELE1BQU1qQyxRQUFRLENBQUM7OztxQ0FHYyxDQUFDO1FBRTlCLE1BQU1DLFVBQVUsTUFBTU4sS0FBS0ssS0FBSyxDQUFDQSxPQUFPa0I7UUFDeEMsTUFBTWlELG9CQUFvQlAsb0NBQW9DM0QsUUFBUUMsSUFBSTtRQUMxRUQsUUFBUUMsSUFBSSxDQUFDd0IsSUFBSSxDQUFDO1lBQUV5QyxtQkFBbUJBO1FBQWlCO1FBQ3hELE9BQU96RSxxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDSCxRQUFRQyxJQUFJLEVBQUU7WUFBQ0ksUUFBUTtRQUFHO0lBQ3ZELEVBQ0EsT0FBT0MsS0FDUDtRQUNJLE9BQU9iLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFBQ0MsT0FBTztRQUF1QixHQUFHO1lBQUNDLFFBQVE7UUFBRztJQUMzRTtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RiUm91dGVzLmpzPzdjOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5cbi8vIGltcG9ydHMgUG9zdGdyZVNRTCBkYXRhYmFzZSBwb29sIHRvIHF1ZXJ5IHRoZSBsb2NhbCBkYXRhYmFzZVxuY29uc3QgcG9vbCA9IHJlcXVpcmUoJy4vZGIuanMnKTtcblxuLy8gVXNlcyBFbXBsb3llZSBJRCBpbiBVUkwgdG8gcmV0cmlldmUgYWxsIGRhdGFiYXNlIGZpZWxkcyBmb3IgRW1wbG95ZWUgb2JqZWN0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RW1wbG95ZWVCeUlkIChpZCkge1xuICAgIFxuICAgIHRyeSBcbiAgICB7XG4gICAgICAgIC8vIENvbnZlcnRzIElEIGdpdmVuIGFzIHBhcmFtZXRlciBhbmQgYWRkcyBpdCB0byBsaXN0IHRvIGJlIHVzZWQgaW4gcGFyYW1ldGVyaXNlZCBxdWVyeVxuICAgICAgICBjb25zdCB2YWx1ZSA9IFtpZF07XG4gICAgICAgIC8vIENyZWF0aW9uIG9mIFF1ZXJ5IHdoZXJlICQxIHJlcHJlc2VudHMgcGFyYW1ldGVyaXNlZCBwYXJhbWV0ZXJcbiAgICAgICAgY29uc3QgcXVlcnkgPSBgU0VMRUNUICogRlJPTSBlbXBsb3llZSBXSEVSRSBlbXBfaWQgPSAkMTtgXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZSk7XG5cbiAgICAgICAgLy8gQ2hlY2tzIGlmIGFueSByZXN1bHRzIHdlcmUgcmV0dXJuZWQgZnJvbSB0aGUgZGF0YWJhc2VcbiAgICAgICAgaWYgKHJlc3VsdHMucm93cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvciA6IFwiRW1wbG95ZWUgbm90IGZvdW5kXCJ9LCB7c3RhdHVzOiA0MDR9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm5zIHRoZSBkYXRhIGFzIEpTT04gYW5kIHN0YXR1cyBjb2RlXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHRzLnJvd3NbMF0sIHtzdGF0dXM6IDIwMH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSBcbiAgICB7XG4gICAgICAgIC8vIFJldHVybnMgZXJyb3IgSlNPTiBib2R5IGFuZCBzdGF0dXMgY29kZVxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe2Vycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwifSwge3N0YXR1czogNTAwfSk7XG4gICAgfVxufTtcblxuLy8gVXNlcyBFbXBsb3llZSBJRCBpbiBVUkwgdG8gZGVsZXRlIGRhdGFiYXNlIHJlY29yZCBmb3IgdGhhdCBFbXBsb3llZSBvYmplY3RcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVFbXBsb3llZUJ5SWQgKGlkKSB7XG4gICAgXG4gICAgdHJ5IFxuICAgIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBbaWRdO1xuICAgICAgICBjb25zdCBzZWFyY2hRdWVyeSA9IGBTRUxFQ1QgKiBGUk9NIGVtcGxveWVlIFdIRVJFIGVtcF9pZCA9ICQxO2BcbiAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0gYXdhaXQgcG9vbC5xdWVyeShzZWFyY2hRdWVyeSwgdmFsdWUpO1xuICAgICAgICBpZiAoc2VhcmNoUmVzdWx0LnJvd3MubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3IgOiBcIkVtcGxveWVlIG5vdCBmb3VuZFwifSwge3N0YXR1czogNDA0fSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBcbiAgICAgICAge1xuICAgICAgICAgICBjb25zdCBkZWxldGVRdWVyeSA9IGBERUxFVEUgRlJPTSBlbXBsb3llZSBXSEVSRSBlbXBfaWQgPSAkMTtgIFxuICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcG9vbC5xdWVyeShkZWxldGVRdWVyeSwgdmFsdWUpO1xuICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cy5yb3dzLCB7c3RhdHVzOiAyMDB9KTtcbiAgICAgICAgfSAgICAgXG4gICAgfVxuICAgIGNhdGNoIChlcnIpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvcjogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIn0sIHtzdGF0dXM6IDUwMH0pO1xuICAgIH1cbn07XG5cbi8vIFVzZXMgRW1wbG95ZWUgSUQgYW5kIHRoZSBkYXRhIGZyb20gdGhlIFVJIGZvcm0gdG8gdXBkYXRlIGFsbCBkYXRhYmFzZSBmaWVsZHMgZm9yIEVtcGxveWVlIG9iamVjdFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUVtcGxveWVlQnlJZCAoZmlyc3ROYW1lLCBtaWRkbGVOYW1lLCBsYXN0TmFtZSwgYmlydGhEYXRlLCBwb3NpdGlvbiwgaWQpIFxue1xuICAgIHRyeSBcbiAgICB7ICAgXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtmaXJzdE5hbWUsIG1pZGRsZU5hbWUsIGxhc3ROYW1lLCBiaXJ0aERhdGUsIHBvc2l0aW9uLCBwYXJzZUludChpZCldOyBcbiAgICAgICAgY29uc29sZS5sb2coYmlydGhEYXRlKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICAgICAgICBVUERBVEUgZW1wbG95ZWVcbiAgICAgICAgICAgIFNFVCBmaXJzdG5hbWUgPSAkMSwgbWlkZGxlbmFtZSA9ICQyLCBsYXN0bmFtZSA9ICQzLCBkYXRlID0gdG9fZGF0ZSgkNCwgJ1lZWVktTU0tREQnKSwgcG9zaXRpb24gPSAkNSBcbiAgICAgICAgICAgIFdIRVJFIGVtcF9pZCA9ICQ2O2A7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBvb2wucXVlcnkocXVlcnksIHZhbHVlcyk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHRzLCB7c3RhdHVzOiAyMDB9KTsgICBcbiAgICB9XG4gICAgY2F0Y2ggKGVycikgXG4gICAge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe2Vycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwifSwge3N0YXR1czogNTAwfSk7XG4gICAgfVxufVxuXG4vLyBVc2VzIHRoZSBkYXRhIGZyb20gdGhlIFVJIGZvcm0gdG8gcG9zdCBuZXcgZGF0YSB0byB0aGUgZGF0YWJhc2UgYW5kIGNyZWF0ZSBuZXcgRW1wbG95ZWUgb2JqZWN0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkRW1wbG95ZWVUb0RhdGFiYXNlIChmaXJzdE5hbWUsIG1pZGRsZU5hbWUsIGxhc3ROYW1lLCBiaXJ0aERhdGUsIHBvc2l0aW9uKSBcbntcbiAgICB0cnkgXG4gICAgeyAgICBcbiAgICAgICAgaWYgKCFtaWRkbGVOYW1lIHx8IHR5cGVvZiBtaWRkbGVOYW1lICE9PSAnc3RyaW5nJykgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IFtmaXJzdE5hbWUsIGxhc3ROYW1lLCBiaXJ0aERhdGUsIHBvc2l0aW9uXTsgXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgICAgICAgICAgICBJTlNFUlQgSU5UTyBlbXBsb3llZSAoZmlyc3RuYW1lLCBtaWRkbGVuYW1lLCBsYXN0bmFtZSwgZGF0ZSwgcG9zaXRpb24pIFxuICAgICAgICAgICAgICAgIFZBTFVFUyAoJDEsIE5VTEwsICQyLCAkMywgJDQpIFJFVFVSTklORyBlbXBfaWQ7YDtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBvb2wucXVlcnkocXVlcnksIHZhbHVlcyk7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cywge3N0YXR1czogMjAwfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gW2ZpcnN0TmFtZSwgbWlkZGxlTmFtZSwgbGFzdE5hbWUsIGJpcnRoRGF0ZSwgcG9zaXRpb25dOyBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIGVtcGxveWVlIChmaXJzdG5hbWUsIG1pZGRsZW5hbWUsIGxhc3RuYW1lLCBkYXRlLCBwb3NpdGlvbikgXG4gICAgICAgICAgICAgICAgVkFMVUVTICgkMSwgJDIsICQzLCAkNCwgJDUpIFJFVFVSTklORyBlbXBfaWQ7YDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBvb2wucXVlcnkocXVlcnksIHZhbHVlcyk7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cywge3N0YXR1czogMjAwfSk7XG4gICAgICAgIH1cblxuICAgICAgICBcbiAgICAgICAgXG4gICAgfVxuICAgIGNhdGNoIChlcnIpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvcjogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIn0sIHtzdGF0dXM6IDUwMH0pO1xuICAgIH1cbn1cblxuLy8gVXNlcyBTUUwgdG8gcmV0cmlldmUgZGF0YSBmb3IgYWxsIEVtcGxveWVlIG9iamVjdHMgaW4gdGhlIGRhdGFiYXNlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsRW1wbG95ZWVzKCkgXG57XG4gICAgdHJ5IFxuICAgIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBvb2wucXVlcnkoYFNFTEVDVCAqIEZST00gZW1wbG95ZWU7YCk7XG4gICAgICAgIGlmIChyZXN1bHRzLnJvd3MubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3IgOiBcIk5vIGVtcGxveWVlcyBmb3VuZFwifSksIHtzdGF0dXM6IDQwNH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdHMucm93cywge3N0YXR1czogMjAwfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvcjogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIn0sIHtzdGF0dXM6IDUwMH0pO1xuICAgIH1cbn1cblxuLy8gVXNlcyBzZWFyY2ggcGFyYW1zIGlucHV0dGVkIGludG8gQVBJIFVSTCBmcm9tIFVJIHRvIGZpbmQgYW4gZW1wbG95ZWUgb2JqZWN0IGJhc2VkIG9uIGEgY29tYmluYXRpb24gb2YgZmlyc3QgbmFtZSwgbGFzdCBuYW1lIGFuZCBwb3NpdGlvblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaEZvckVtcGxveWVlIChmaXJzdE5hbWUsIGxhc3ROYW1lLCBwb3NpdGlvbikgXG57XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgbGV0IHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIGVtcGxveWVlIFdIRVJFIDE9MVwiO1xuICAgIGxldCBpbmRleCA9IDE7XG4gICAgdHJ5IFxuICAgIHtcbiAgICAgICAgaWYgKGZpcnN0TmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVlcnkgKz0gYCBBTkQgZmlyc3RuYW1lID0gJCR7aW5kZXh9YFxuICAgICAgICAgICAgdmFsdWVzLnB1c2goZmlyc3ROYW1lKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0gXG4gICAgICAgIGlmIChsYXN0TmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBxdWVyeSArPSBgIEFORCBsYXN0bmFtZSA9ICQke2luZGV4fWBcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChsYXN0TmFtZSk7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH0gXG4gICAgICAgIGlmIChwb3NpdGlvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBxdWVyeSArPSBgIEFORCBwb3NpdGlvbiA9ICQke2luZGV4fWBcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH0gXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cy5yb3dzLCB7c3RhdHVzOiAyMDB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikgXG4gICAge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe2Vycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwifSwge3N0YXR1czogNTAwfSk7XG4gICAgfVxufVxuXG4vLyBVc2VzIFNRTCB0byByZXRyaWV2ZSBkYXRhIGZvciBhbGwgQ29tcGVuc2F0aW9uIG9iamVjdHMgaW4gdGhlIGRhdGFiYXNlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ29tcGVuc2F0aW9ucygpIFxue1xuICAgIHRyeSBcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIGNvbXBlbnNhdGlvbjtgKTtcbiAgICAgICAgaWYgKHJlc3VsdHMucm93cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvciA6IFwiTm8gY29tcGVuc2F0aW9ucyBmb3VuZFwifSksIHtzdGF0dXM6IDQwNH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdHMucm93cywge3N0YXR1czogMjAwfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvcjogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIn0sIHtzdGF0dXM6IDUwMH0pO1xuICAgIH1cbn1cblxuLy8gVXNlcyB0aGUgZGF0YSBmcm9tIHRoZSBVSSBmb3JtIHRvIHBvc3QgbmV3IGRhdGEgdG8gdGhlIGRhdGFiYXNlIGFuZCBjcmVhdGUgbmV3IENvbXBlbnNhdGlvbiBvYmplY3RcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRDb21wZW5zYXRpb25Ub0RhdGFiYXNlIChjb21wVHlwZSwgYW1vdW50LCBkZXNjcmlwdGlvbiwgZGF0ZSwgZW1wbG95ZWVJZCkgXG57XG4gICAgdHJ5IFxuICAgIHsgICAgXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtjb21wVHlwZSwgcGFyc2VGbG9hdChhbW91bnQpLCBkZXNjcmlwdGlvbiwgZGF0ZSwgcGFyc2VJbnQoZW1wbG95ZWVJZCldOyBcbiAgICAgICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICAgICAgICBJTlNFUlQgSU5UTyBjb21wZW5zYXRpb24gKHR5cGUsIGFtb3VudCwgZGVzY3JpcHRpb24sIGRhdGUsIGZrX2VtcGxveWVlKSBcbiAgICAgICAgICAgIFZBTFVFUyAoJDEsICQyLCAkMywgJDQsICQ1KTtgO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cywge3N0YXR1czogMjAwfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvcjogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIn0sIHtzdGF0dXM6IDUwMH0pO1xuICAgIH1cbn1cblxuLy8gVXNlcyBDb21wZW5zYXRpb24gSUQgaW4gVVJMIHRvIHJldHJpZXZlIGFsbCBkYXRhYmFzZSBmaWVsZHMgZm9yIENvbXBlbnNhdGlvbiBvYmplY3RcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb21wZW5zYXRpb25CeUlkIChpZCkgXG57XG4gICAgdHJ5XG4gICAge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IFtpZF07XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gYFNFTEVDVCAqIEZST00gY29tcGVuc2F0aW9uIFdIRVJFIGNvbXBfaWQgPSAkMTtgXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChyZXN1bHRzLnJvd3MubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3IgOiBcIkNvbXBlbnNhdGlvbiBub3QgZm91bmRcIn0sIHtzdGF0dXM6IDQwNH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHRzLnJvd3NbMF0sIHtzdGF0dXM6IDIwMH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSBcbiAgICB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3I6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCJ9LCB7c3RhdHVzOiA1MDB9KTtcbiAgICB9XG59XG5cbi8vIFVzZXMgRW1wbG95ZWUgSUQgaW4gVVJMIHRvIGRlbGV0ZSBkYXRhYmFzZSByZWNvcmQgZm9yIHRoYXQgRW1wbG95ZWUgb2JqZWN0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ29tcGVuc2F0aW9uQnlJZCAoaWQpXG57XG4gICAgdHJ5IFxuICAgIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBbaWRdO1xuICAgICAgICBjb25zdCBzZWFyY2hRdWVyeSA9IGBTRUxFQ1QgKiBGUk9NIGNvbXBlbnNhdGlvbiBXSEVSRSBjb21wX2lkID0gJDE7YFxuICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSBhd2FpdCBwb29sLnF1ZXJ5KHNlYXJjaFF1ZXJ5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChzZWFyY2hSZXN1bHQucm93cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvciA6IFwiQ29tcGVuc2F0aW9uIG5vdCBmb3VuZFwifSwge3N0YXR1czogNDA0fSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBcbiAgICAgICAge1xuICAgICAgICAgICBjb25zdCBkZWxldGVRdWVyeSA9IGBERUxFVEUgRlJPTSBjb21wZW5zYXRpb24gV0hFUkUgY29tcF9pZCA9ICQxO2AgXG4gICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KGRlbGV0ZVF1ZXJ5LCB2YWx1ZSk7XG4gICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHRzLnJvd3MsIHtzdGF0dXM6IDIwMH0pO1xuICAgICAgICB9ICAgICBcbiAgICB9XG4gICAgY2F0Y2ggKGVycikgXG4gICAge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe2Vycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwifSwge3N0YXR1czogNTAwfSk7XG4gICAgfVxufVxuXG4vLyBVc2VzIENvbXBlbnNhdGlvbiBJRCBhbmQgdGhlIGRhdGEgZnJvbSB0aGUgVUkgZm9ybSB0byB1cGRhdGUgYWxsIGRhdGFiYXNlIGZpZWxkcyBmb3IgQ29tcGVuc2F0aW9uIG9iamVjdFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNvbXBlbnNhdGlvbkJ5SWQgKGFtb3VudCwgZGVzY3JpcHRpb24sIGlkKVxue1xuICAgIHRyeSBcbiAgICB7ICAgXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFthbW91bnQsIGRlc2NyaXB0aW9uLCBwYXJzZUludChpZCldOyBcbiAgICAgICAgY29uc3QgcXVlcnkgPSBgXG4gICAgICAgICAgICBVUERBVEUgY29tcGVuc2F0aW9uXG4gICAgICAgICAgICBTRVQgYW1vdW50ID0gJDEsIGRlc2NyaXB0aW9uID0gJDIgXG4gICAgICAgICAgICBXSEVSRSBjb21wX2lkID0gJDM7YDtcblxuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcG9vbC5xdWVyeShxdWVyeSwgdmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdHMsIHtzdGF0dXM6IDIwMH0pOyAgIFxuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3I6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCJ9LCB7c3RhdHVzOiA1MDB9KTtcbiAgICB9XG59XG5cbi8vIFVzZXMgdGhlIHNlYXJjaEZvckNvbXBlbnNhdGlvbnMgQVBJIGVuZHBvaW50IGFuZCBjYWxjdWxhdGVzIGNvbXBlbnNhdGlvbiBmb3IgZWFjaCBtb250aC95ZWFyIGluZGl2aWR1YWxseSBhbmQgcmV0dXJucyBKUyBNYXBcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUb3RhbENvbXBlbnNhdGlvblBlck1vbnRoKGNvbXBlbnNhdGlvbnMpIFxue1xuICAgIGxldCBjb21wZW5zYXRpb25QZXJZZWFyTW9udGggPSBuZXcgTWFwKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBPYmplY3Qua2V5cyhjb21wZW5zYXRpb25zKS5sZW5ndGg7IGkrKykgXG4gICAge1xuICAgICAgICBjb25zdCB5ZWFyTW9udGggPSBjb21wZW5zYXRpb25zW2ldLnRvX2NoYXI7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IGNvbXBlbnNhdGlvbnNbaV0uYW1vdW50O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKHllYXJNb250aCwgdHlwZW9mIHllYXJNb250aCk7XG5cbiAgICAgICAgaWYgKGNvbXBlbnNhdGlvblBlclllYXJNb250aC5oYXMoeWVhck1vbnRoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRDb21wZW5zYXRpb24gPSBjb21wZW5zYXRpb25QZXJZZWFyTW9udGguZ2V0KHllYXJNb250aCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50Q29tcGVuc2F0aW9uLCBhbW91bnQpO1xuICAgICAgICAgICAgLy9TdW0gQ2FsY3VsYXRpb25cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcnNlRmxvYXQocGFyc2VGbG9hdChjdXJyZW50Q29tcGVuc2F0aW9uKS50b0ZpeGVkKDIpKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwYXJzZUZsb2F0KHBhcnNlRmxvYXQoYW1vdW50KS50b0ZpeGVkKDIpKSk7XG4gICAgICAgICAgICBsZXQgc3VtID0gKHBhcnNlRmxvYXQoY3VycmVudENvbXBlbnNhdGlvbikgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoYW1vdW50KSkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBzdW0gJHtzdW19YCk7XG4gICAgICAgICAgICBjb21wZW5zYXRpb25QZXJZZWFyTW9udGguc2V0KHllYXJNb250aCwgc3VtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIFxuICAgICAgICB7XG4gICAgICAgICAgICBjb21wZW5zYXRpb25QZXJZZWFyTW9udGguc2V0KHllYXJNb250aCwgcGFyc2VGbG9hdChhbW91bnQpLnRvRml4ZWQoMikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21wZW5zYXRpb25QZXJZZWFyTW9udGg7XG59XG5cbi8vIFVzZXMgU1FMIHRvIGZpbmQgQ29tcGVuc2F0aW9uIG9iamVjdHMgd2hpY2ggYXJlIHdpdGhpbiBhIGRhdGUgcmFuZ2UgdXNpbmcgdGhlIEJFVFdFRU4gc3FsIG9wZXJhdG9yIGZvciBhIGNlcnRhaW4gZW1wbG95ZWVcbi8vIFZhbHVlcyBhcmUgcGFzc2VkIHVzaW5nIHNlYXJjaCBwYXJhbXMgaW50byBlbmRwb2ludFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaEZvckNvbXBlbnNhdGlvbnMgKHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgZW1wbG95ZWVJZCkgXG57XG4gICAgdHJ5IFxuICAgIHtcbiAgICAgICAgLy9RdWVyeSB0aGUgZGF0YWJhc2UgdG8gc2VlIGNvbXBlbnNhdGlvbnMgZHVyaW5nIHRoaXMgdGltZSBmcmFtZVxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbcGFyc2VJbnQoZW1wbG95ZWVJZCksIHN0YXJ0RGF0ZSwgZW5kRGF0ZV07XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gYFNFTEVDVCB0b19jaGFyKGRhdGUsICdZWVlZLU1NJyksIGFtb3VudCwgY29tcF9pZCBGUk9NIGNvbXBlbnNhdGlvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgV0hFUkUgZmtfZW1wbG95ZWUgPSAkMSBcbiAgICAgICAgICAgICAgICAgICAgICAgQU5EIGRhdGUgQkVUV0VFTiAkMiBBTkQgJDNgO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpO1xuICAgICAgICAvL1N1bW1hdGUgdGhlIGNvc3RzIG9mIGVhY2ggb2YgdGhlc2UgY29tcGVuc2F0aW9ucyBwZXIgbW9udGggdG8gc2VlIHRvdGFsIGNvbXBlbnNhdGlvbiBlYWNoIG1vbnRoXG4gICAgICAgIGNvbnN0IGNvbXBlbnNhdGlvblBlclllYXJNb250aCA9IGNhbGN1bGF0ZVRvdGFsQ29tcGVuc2F0aW9uUGVyTW9udGgocmVzdWx0cy5yb3dzKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhjb21wZW5zYXRpb25QZXJZZWFyTW9udGguZW50cmllcygpKTtcbiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmZyb21FbnRyaWVzKGNvbXBlbnNhdGlvblBlclllYXJNb250aCkpKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKE9iamVjdC5mcm9tRW50cmllcyhjb21wZW5zYXRpb25QZXJZZWFyTW9udGgpLCB7c3RhdHVzOiAyMDB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikgXG4gICAge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe2Vycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwifSwge3N0YXR1czogNTAwfSk7XG4gICAgfVxufVxuXG4vLyBVc2VkIGJ5IGdldENvbXBlbnNhdGlvbnNCeUVtcGxveWVlSWRBbmREYXRlIHRvIGV4dGVuZCBBUEkgZW5kcG9pbnQgdG8gcmV0dXJuIHRoZSB0b3RhbCBjb21wZW5zYXRpb24gZm9yIEEgU0lOR0xFIE1PTlRIXG4vLyB3aGljaCB0aGUgZGF0ZSBpcyBwcmVzZW50IHdpdGhpbiBlLmcuLCAwOSBha2EgU2VwdGVtYmVyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQ29tcGVuc2F0aW9uRm9yU2luZ2xlTW9udGgoY29tcGVuc2F0aW9ucykgXG57XG4gICAgbGV0IHN1bUNvbXBlbnNhdGlvbiA9IDA7XG4gICAgY29uc29sZS5sb2coT2JqZWN0LmtleXMoY29tcGVuc2F0aW9ucykubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE9iamVjdC5rZXlzKGNvbXBlbnNhdGlvbnMpLmxlbmd0aDsgaSsrKSBcbiAgICB7ICAgXG4gICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoY29tcGVuc2F0aW9uc1tpXS5hbW91bnQpO1xuICAgICAgICBzdW1Db21wZW5zYXRpb24gKz0gYW1vdW50O1xuICAgIH1cbiAgICByZXR1cm4gc3VtQ29tcGVuc2F0aW9uLnRvRml4ZWQoMik7XG5cbn1cblxuLy8gR2V0IGFsbCBDb21wZW5zYXRpb24gb2JqZWN0IGRhdGEgZnJvbSB0aGUgZGF0YWJhc2UgZm9yIE9ORSBjb21wZW5zYXRpb24gb25seVxuLy8gVXNlcyBjb21wZW5zYXRpb25zL2JyZWFrZG93biBBUEkgd2hlcmUgZW1wbG95ZWVJZCBhbmQgZGF0ZSBhcmUgcGFzc2VkIGFzIGlucHV0cyBpbnRvIFVSTFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBlbnNhdGlvbnNCeUVtcGxveWVlSWRBbmREYXRlKGVtcGxveWVlSWQsIGRhdGUpXG57XG4gICAgdHJ5IFxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0ZVNlcGFyYXRlZCA9IGRhdGUuc3BsaXQoJy0nKTtcbiAgICAgICAgY29uc3QgeWVhciA9IGRhdGVTZXBhcmF0ZWRbMF07XG4gICAgICAgIGNvbnN0IG1vbnRoID0gZGF0ZVNlcGFyYXRlZFsxXTtcbiAgICAgICAgY29uc29sZS5sb2coeWVhciwgbW9udGgpO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFt5ZWFyLCBtb250aCwgcGFyc2VJbnQoZW1wbG95ZWVJZCldO1xuICAgICAgICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgKiBGUk9NIGNvbXBlbnNhdGlvbiBcbiAgICAgICAgICAgICAgICAgICAgV0hFUkUgRVhUUkFDVChZRUFSIEZST00gZGF0ZSkgPSAkMSBBTkQgXG4gICAgICAgICAgICAgICAgICAgIEVYVFJBQ1QoTU9OVEggRlJPTSBkYXRlKSA9ICQyIEFORFxuICAgICAgICAgICAgICAgICAgICBma19lbXBsb3llZSA9ICQzO2BcblxuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcG9vbC5xdWVyeShxdWVyeSwgdmFsdWVzKTtcbiAgICAgICAgY29uc3QgbW9udGhDb21wZW5zYXRpb24gPSBjYWxjdWxhdGVDb21wZW5zYXRpb25Gb3JTaW5nbGVNb250aChyZXN1bHRzLnJvd3MpO1xuICAgICAgICByZXN1bHRzLnJvd3MucHVzaCh7IG1vbnRoQ29tcGVuc2F0aW9uOiBtb250aENvbXBlbnNhdGlvbn0pO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0cy5yb3dzLCB7c3RhdHVzOiAyMDB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycilcbiAgICB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3I6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCJ9LCB7c3RhdHVzOiA1MDB9KTtcbiAgICB9ICAgXG59XG4gICAgIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInBvb2wiLCJyZXF1aXJlIiwiZ2V0RW1wbG95ZWVCeUlkIiwiaWQiLCJ2YWx1ZSIsInF1ZXJ5IiwicmVzdWx0cyIsInJvd3MiLCJsZW5ndGgiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJlcnIiLCJkZWxldGVFbXBsb3llZUJ5SWQiLCJzZWFyY2hRdWVyeSIsInNlYXJjaFJlc3VsdCIsImRlbGV0ZVF1ZXJ5IiwidXBkYXRlRW1wbG95ZWVCeUlkIiwiZmlyc3ROYW1lIiwibWlkZGxlTmFtZSIsImxhc3ROYW1lIiwiYmlydGhEYXRlIiwicG9zaXRpb24iLCJ2YWx1ZXMiLCJwYXJzZUludCIsImNvbnNvbGUiLCJsb2ciLCJhZGRFbXBsb3llZVRvRGF0YWJhc2UiLCJnZXRBbGxFbXBsb3llZXMiLCJzZWFyY2hGb3JFbXBsb3llZSIsImluZGV4IiwicHVzaCIsImdldEFsbENvbXBlbnNhdGlvbnMiLCJhZGRDb21wZW5zYXRpb25Ub0RhdGFiYXNlIiwiY29tcFR5cGUiLCJhbW91bnQiLCJkZXNjcmlwdGlvbiIsImRhdGUiLCJlbXBsb3llZUlkIiwicGFyc2VGbG9hdCIsImdldENvbXBlbnNhdGlvbkJ5SWQiLCJkZWxldGVDb21wZW5zYXRpb25CeUlkIiwidXBkYXRlQ29tcGVuc2F0aW9uQnlJZCIsImNhbGN1bGF0ZVRvdGFsQ29tcGVuc2F0aW9uUGVyTW9udGgiLCJjb21wZW5zYXRpb25zIiwiY29tcGVuc2F0aW9uUGVyWWVhck1vbnRoIiwiTWFwIiwiaSIsIk9iamVjdCIsImtleXMiLCJ5ZWFyTW9udGgiLCJ0b19jaGFyIiwiaGFzIiwiY3VycmVudENvbXBlbnNhdGlvbiIsImdldCIsInRvRml4ZWQiLCJzdW0iLCJzZXQiLCJzZWFyY2hGb3JDb21wZW5zYXRpb25zIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImVudHJpZXMiLCJKU09OIiwic3RyaW5naWZ5IiwiZnJvbUVudHJpZXMiLCJjYWxjdWxhdGVDb21wZW5zYXRpb25Gb3JTaW5nbGVNb250aCIsInN1bUNvbXBlbnNhdGlvbiIsImdldENvbXBlbnNhdGlvbnNCeUVtcGxveWVlSWRBbmREYXRlIiwiZGF0ZVNlcGFyYXRlZCIsInNwbGl0IiwieWVhciIsIm1vbnRoIiwibW9udGhDb21wZW5zYXRpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/dbRoutes.js\n");

/***/ }),

/***/ "(rsc)/./src/app/api/employee/new/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/employee/new/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_dbRoutes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../lib/dbRoutes */ \"(rsc)/./lib/dbRoutes.js\");\n\n\n// POST to add new Employee object to database\nasync function POST(req) {\n    try {\n        const data = await req.formData();\n        const firstname = data.get('firstName');\n        const middlename = data.get('middleName');\n        const lastname = data.get('lastName');\n        const birthdate = data.get('birthDate');\n        const position = data.get('position');\n        const errors = {};\n        if (!firstname || typeof firstname !== 'string') {\n            errors.firstName = \"First Name is required and must be a string.\";\n        }\n        if (!lastname || typeof lastname !== 'string') {\n            errors.lastName = \"Last Name is required and must be a string.\";\n        }\n        if (!birthdate || typeof birthdate !== 'string') {\n            errors.birthdate = \"Birth Date is required and must be a date.\";\n        }\n        if (!position || typeof position !== 'string') {\n            errors.position = \"Position is required and must be a string.\";\n        }\n        if (Object.keys(errors).length > 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Bad Request\"\n            }, {\n                status: 400\n            });\n        }\n        return (0,_lib_dbRoutes__WEBPACK_IMPORTED_MODULE_1__.addEmployeeToDatabase)(firstname, middlename, lastname, birthdate, position);\n    } catch (err) {\n        console.error(err);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Issue occured\"\n        }, {\n            status: 403\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9lbXBsb3llZS9uZXcvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdEO0FBQ1k7QUFHcEUsOENBQThDO0FBQ3ZDLGVBQWVFLEtBQUtDLEdBQWdCO0lBRXZDLElBQUk7UUFDQSxNQUFNQyxPQUFPLE1BQU1ELElBQUlFLFFBQVE7UUFDL0IsTUFBTUMsWUFBWUYsS0FBS0csR0FBRyxDQUFDO1FBQzNCLE1BQU1DLGFBQWFKLEtBQUtHLEdBQUcsQ0FBQztRQUM1QixNQUFNRSxXQUFXTCxLQUFLRyxHQUFHLENBQUM7UUFDMUIsTUFBTUcsWUFBWU4sS0FBS0csR0FBRyxDQUFDO1FBQzNCLE1BQU1JLFdBQVdQLEtBQUtHLEdBQUcsQ0FBQztRQUUxQixNQUFNSyxTQUF1QixDQUFDO1FBRTlCLElBQUksQ0FBQ04sYUFBYSxPQUFPQSxjQUFjLFVBQVU7WUFDN0NNLE9BQU9DLFNBQVMsR0FBRztRQUN2QjtRQUNBLElBQUksQ0FBQ0osWUFBWSxPQUFPQSxhQUFhLFVBQVU7WUFDM0NHLE9BQU9FLFFBQVEsR0FBRztRQUN0QjtRQUNBLElBQUksQ0FBQ0osYUFBYSxPQUFPQSxjQUFjLFVBQVU7WUFDN0NFLE9BQU9GLFNBQVMsR0FBRztRQUN2QjtRQUNBLElBQUksQ0FBQ0MsWUFBWSxPQUFPQSxhQUFhLFVBQVU7WUFDM0NDLE9BQU9ELFFBQVEsR0FBRztRQUN0QjtRQUNBLElBQUlJLE9BQU9DLElBQUksQ0FBQ0osUUFBUUssTUFBTSxHQUFHLEdBQ2pDO1lBQ0ksT0FBT2pCLHFEQUFZQSxDQUFDa0IsSUFBSSxDQUFDO2dCQUFDQyxPQUFPO1lBQWEsR0FBRztnQkFBQ0MsUUFBUTtZQUFHO1FBQ2pFO1FBRUEsT0FBT25CLG9FQUFxQkEsQ0FBQ0ssV0FBV0UsWUFBWUMsVUFBVUMsV0FBV0M7SUFFN0UsRUFDQSxPQUFPVSxLQUFLO1FBQ1JDLFFBQVFILEtBQUssQ0FBQ0U7UUFDZCxPQUFPckIscURBQVlBLENBQUNrQixJQUFJLENBQUM7WUFBQ0MsT0FBTztRQUFlLEdBQUc7WUFBQ0MsUUFBUTtRQUFHO0lBQ25FO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2FwaS9lbXBsb3llZS9uZXcvcm91dGUudHM/YTU0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBhZGRFbXBsb3llZVRvRGF0YWJhc2UgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vbGliL2RiUm91dGVzXCI7XG5pbXBvcnQgeyBFcnJvckZpZWxkcyB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9saWIvaW50ZXJmYWNlXCI7XG5cbi8vIFBPU1QgdG8gYWRkIG5ldyBFbXBsb3llZSBvYmplY3QgdG8gZGF0YWJhc2VcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIFxue1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXEuZm9ybURhdGEoKTtcbiAgICAgICAgY29uc3QgZmlyc3RuYW1lID0gZGF0YS5nZXQoJ2ZpcnN0TmFtZScpO1xuICAgICAgICBjb25zdCBtaWRkbGVuYW1lID0gZGF0YS5nZXQoJ21pZGRsZU5hbWUnKTtcbiAgICAgICAgY29uc3QgbGFzdG5hbWUgPSBkYXRhLmdldCgnbGFzdE5hbWUnKTtcbiAgICAgICAgY29uc3QgYmlydGhkYXRlID0gZGF0YS5nZXQoJ2JpcnRoRGF0ZScpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGRhdGEuZ2V0KCdwb3NpdGlvbicpOyAgICBcblxuICAgICAgICBjb25zdCBlcnJvcnMgOiBFcnJvckZpZWxkcyA9IHt9O1xuXG4gICAgICAgIGlmICghZmlyc3RuYW1lIHx8IHR5cGVvZiBmaXJzdG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBlcnJvcnMuZmlyc3ROYW1lID0gXCJGaXJzdCBOYW1lIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgc3RyaW5nLlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbGFzdG5hbWUgfHwgdHlwZW9mIGxhc3RuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZXJyb3JzLmxhc3ROYW1lID0gXCJMYXN0IE5hbWUgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSBzdHJpbmcuXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFiaXJ0aGRhdGUgfHwgdHlwZW9mIGJpcnRoZGF0ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGVycm9ycy5iaXJ0aGRhdGUgPSBcIkJpcnRoIERhdGUgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSBkYXRlLlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcG9zaXRpb24gfHwgdHlwZW9mIHBvc2l0aW9uICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZXJyb3JzLnBvc2l0aW9uID0gXCJQb3NpdGlvbiBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBhIHN0cmluZy5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGggPiAwKSBcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtlcnJvcjogXCJCYWQgUmVxdWVzdFwifSwge3N0YXR1czogNDAwfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhZGRFbXBsb3llZVRvRGF0YWJhc2UoZmlyc3RuYW1lLCBtaWRkbGVuYW1lLCBsYXN0bmFtZSwgYmlydGhkYXRlLCBwb3NpdGlvbik7XG5cbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7ZXJyb3I6IFwiSXNzdWUgb2NjdXJlZFwifSwge3N0YXR1czogNDAzfSlcbiAgICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImFkZEVtcGxveWVlVG9EYXRhYmFzZSIsIlBPU1QiLCJyZXEiLCJkYXRhIiwiZm9ybURhdGEiLCJmaXJzdG5hbWUiLCJnZXQiLCJtaWRkbGVuYW1lIiwibGFzdG5hbWUiLCJiaXJ0aGRhdGUiLCJwb3NpdGlvbiIsImVycm9ycyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImVyciIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/employee/new/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/dotenv"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Femployee%2Fnew%2Froute&page=%2Fapi%2Femployee%2Fnew%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployee%2Fnew%2Froute.ts&appDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsunilsamra%2Fjava-applications%2Fcase-study&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();